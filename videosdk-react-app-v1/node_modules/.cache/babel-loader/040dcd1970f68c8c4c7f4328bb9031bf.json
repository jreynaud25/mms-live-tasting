{"ast":null,"code":"import _asyncToGenerator from\"/Users/jreynaud/Dropbox/00_JRVJ/PROJECTS/07_MOMUS/03__FINAL/06_WEB/live-tasting-3/application/videosdk-react-app-v1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/Users/jreynaud/Dropbox/00_JRVJ/PROJECTS/07_MOMUS/03__FINAL/06_WEB/live-tasting-3/application/videosdk-react-app-v1/node_modules/@babel/runtime/regenerator/index.js\";var API_BASE_URL=process.env.REACT_APP_SERVER_URL;// API call to generate authentication token\nexport var getToken=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,_yield$res$json,token;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"\".concat(API_BASE_URL,\"/get-token\"),{method:\"GET\"});case 2:res=_context.sent;_context.next=5;return res.json();case 5:_yield$res$json=_context.sent;token=_yield$res$json.token;return _context.abrupt(\"return\",token);case 8:case\"end\":return _context.stop();}}},_callee);}));return function getToken(){return _ref.apply(this,arguments);};}();// API call to create meeting\nexport var createMeeting=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_ref2){var token,res,_yield$res$json2,meetingId;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:token=_ref2.token;_context2.next=3;return fetch(\"\".concat(API_BASE_URL,\"/create-meeting\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({token:token})});case 3:res=_context2.sent;_context2.next=6;return res.json();case 6:_yield$res$json2=_context2.sent;meetingId=_yield$res$json2.meetingId;return _context2.abrupt(\"return\",meetingId);case 9:case\"end\":return _context2.stop();}}},_callee2);}));return function createMeeting(_x){return _ref3.apply(this,arguments);};}();","map":{"version":3,"sources":["/Users/jreynaud/Dropbox/00_JRVJ/PROJECTS/07_MOMUS/03__FINAL/06_WEB/live-tasting-3/application/videosdk-react-app-v1/src/api.js"],"names":["API_BASE_URL","process","env","REACT_APP_SERVER_URL","getToken","fetch","method","res","json","token","createMeeting","headers","body","JSON","stringify","meetingId"],"mappings":"qZAAA,GAAMA,CAAAA,YAAY,CAAGC,OAAO,CAACC,GAAR,CAAYC,oBAAjC,CAGA;AACA,MAAO,IAAMC,CAAAA,QAAQ,0FAAG,uLACJC,CAAAA,KAAK,WAAIL,YAAJ,eAA8B,CACnDM,MAAM,CAAE,KAD2C,CAA9B,CADD,QAChBC,GADgB,qCAKEA,CAAAA,GAAG,CAACC,IAAJ,EALF,sCAKdC,KALc,iBAKdA,KALc,iCAMfA,KANe,wDAAH,kBAARL,CAAAA,QAAQ,0CAAd,CASP;AACA,MAAO,IAAMM,CAAAA,aAAa,2FAAG,sLAASD,KAAT,OAASA,KAAT,wBACTJ,CAAAA,KAAK,WAAIL,YAAJ,oBAAmC,CACxDM,MAAM,CAAE,MADgD,CAExDK,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAF+C,CAGxDC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAEL,KAAK,CAALA,KAAF,CAAf,CAHkD,CAAnC,CADI,QACrBF,GADqB,uCAOCA,CAAAA,GAAG,CAACC,IAAJ,EAPD,wCAOnBO,SAPmB,kBAOnBA,SAPmB,kCAQpBA,SARoB,0DAAH,kBAAbL,CAAAA,aAAa,6CAAnB","sourcesContent":["const API_BASE_URL = process.env.REACT_APP_SERVER_URL;\n\n\n// API call to generate authentication token\nexport const getToken = async () => {\n  const res = await fetch(`${API_BASE_URL}/get-token`, {\n    method: \"GET\",\n  });\n\n  const { token } = await res.json();\n  return token;\n};\n\n// API call to create meeting\nexport const createMeeting = async ({ token }) => {\n  const res = await fetch(`${API_BASE_URL}/create-meeting`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ token }),\n  });\n\n  const { meetingId } = await res.json();\n  return meetingId;\n};"]},"metadata":{},"sourceType":"module"}