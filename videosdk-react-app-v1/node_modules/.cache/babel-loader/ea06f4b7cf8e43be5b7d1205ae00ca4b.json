{"ast":null,"code":"import _asyncToGenerator from\"/Users/jreynaud/Dropbox/00_JRVJ/PROJECTS/07_MOMUS/03__FINAL/06_WEB/live-tasting-3/application/videosdk-react-app-v1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"/Users/jreynaud/Dropbox/00_JRVJ/PROJECTS/07_MOMUS/03__FINAL/06_WEB/live-tasting-3/application/videosdk-react-app-v1/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/jreynaud/Dropbox/00_JRVJ/PROJECTS/07_MOMUS/03__FINAL/06_WEB/live-tasting-3/application/videosdk-react-app-v1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/jreynaud/Dropbox/00_JRVJ/PROJECTS/07_MOMUS/03__FINAL/06_WEB/live-tasting-3/application/videosdk-react-app-v1/node_modules/@babel/runtime/regenerator/index.js\";import logo from'./logo.svg';import'./App.css';import React,{useEffect,useRef,useState}from\"react\";import{Row,Col}from'react-simple-flex-grid';import\"react-simple-flex-grid/lib/main.css\";import{MeetingProvider,MeetingConsumer,useMeeting,useParticipant}from\"@videosdk.live/react-sdk\";import{getToken,createMeeting}from\"./api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var chunk=function chunk(arr){var newArr=[];while(arr.length){newArr.push(arr.splice(0,3));}return newArr;};function ParticipantView(props){var webcamRef=useRef(null);var micRef=useRef(null);var screenShareRef=useRef(null);var _useParticipant=useParticipant(props.participantId),displayName=_useParticipant.displayName,webcamStream=_useParticipant.webcamStream,micStream=_useParticipant.micStream,screenShareStream=_useParticipant.screenShareStream,webcamOn=_useParticipant.webcamOn,micOn=_useParticipant.micOn,screenShareOn=_useParticipant.screenShareOn;useEffect(function(){if(webcamRef.current){if(webcamOn){var mediaStream=new MediaStream();mediaStream.addTrack(webcamStream.track);webcamRef.current.srcObject=mediaStream;webcamRef.current.play().catch(function(error){return console.error(\"videoElem.current.play() failed\",error);});}else{webcamRef.current.srcObject=null;}}},[webcamStream,webcamOn]);useEffect(function(){if(micRef.current){if(micOn){var mediaStream=new MediaStream();mediaStream.addTrack(micStream.track);micRef.current.srcObject=mediaStream;micRef.current.play().catch(function(error){return console.error(\"videoElem.current.play() failed\",error);});}else{micRef.current.srcObject=null;}}},[micStream,micOn]);useEffect(function(){if(screenShareRef.current){if(screenShareOn){var mediaStream=new MediaStream();mediaStream.addTrack(screenShareStream.track);screenShareRef.current.srcObject=mediaStream;screenShareRef.current.play().catch(function(error){return console.error(\"videoElem.current.play() failed\",error);});}else{screenShareRef.current.srcObject=null;}}},[screenShareStream,screenShareOn]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"audio\",{ref:micRef,autoPlay:true}),webcamRef||micOn?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:displayName}),/*#__PURE__*/_jsx(\"video\",{height:\"100%\",width:\"100%\",ref:webcamRef,autoPlay:true})]}):null,screenShareOn?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Screen Shared\"}),/*#__PURE__*/_jsx(\"video\",{height:\"100%\",width:\"100%\",ref:screenShareRef,autoPlay:true})]}):null,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Mic:\",micOn?\"Yes\":\"No\",\", Camera: \",webcamOn?\"Yes\":\"No\",\", Screen Share: \",screenShareOn?\"Yes\":\"No\"]})]},props.participantId);}function MeetingGrid(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),joined=_useState2[0],setJoined=_useState2[1];var _useMeeting=useMeeting(),join=_useMeeting.join,leave=_useMeeting.leave,toggleMic=_useMeeting.toggleMic,toggleWebcam=_useMeeting.toggleWebcam,toggleScreenShare=_useMeeting.toggleScreenShare;var _useMeeting2=useMeeting(),participants=_useMeeting2.participants;var joinMeeting=function joinMeeting(){setJoined(true);join();};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"header\",{children:[\"Meeting Id: \",props.meetingId]}),joined?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:leave,children:\"Leave\"}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleMic,children:\"toggleMic\"}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleWebcam,children:\"toggleWebcam\"}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleScreenShare,children:\"toggleScreenShare\"})]}):/*#__PURE__*/_jsx(\"button\",{onClick:joinMeeting,children:\"Join\"}),/*#__PURE__*/_jsx(\"div\",{children:chunk(_toConsumableArray(participants.keys())).map(function(k){return/*#__PURE__*/_jsx(Row,{gutter:80,children:k.map(function(l){return/*#__PURE__*/_jsx(Col,{span:4,children:/*#__PURE__*/_jsx(ParticipantView,{participantId:l},l)});})},k);})})]});}function JoinScreen(_ref){var updateMeetingId=_ref.updateMeetingId,getMeetingAndToken=_ref.getMeetingAndToken;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Meeting Id\",onChange:function onChange(e){updateMeetingId(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{onClick:getMeetingAndToken,children:\"Join\"}),/*#__PURE__*/_jsx(\"button\",{onClick:getMeetingAndToken,children:\"Create Meeting\"})]});}function App(){var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),token=_useState4[0],setToken=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),meetingId=_useState6[0],setMeetingId=_useState6[1];var getMeetingAndToken=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var token;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getToken();case 2:token=_context.sent;setToken(token);_context.t0=setMeetingId;if(!meetingId){_context.next=9;break;}_context.t1=meetingId;_context.next=12;break;case 9:_context.next=11;return createMeeting({token:token});case 11:_context.t1=_context.sent;case 12:_context.t2=_context.t1;(0,_context.t0)(_context.t2);case 14:case\"end\":return _context.stop();}}},_callee);}));return function getMeetingAndToken(){return _ref2.apply(this,arguments);};}();var updateMeetingId=function updateMeetingId(meetingId){setMeetingId(meetingId);};return token&&meetingId?/*#__PURE__*/_jsx(MeetingProvider,{config:{meetingId:meetingId,micEnabled:true,webcamEnabled:true,name:\"John doe\"},token:token,children:/*#__PURE__*/_jsx(MeetingConsumer,{children:function children(){return/*#__PURE__*/_jsx(MeetingGrid,{meetingId:meetingId,getMeetingAndToken:getMeetingAndToken});}})}):/*#__PURE__*/_jsx(JoinScreen,{updateMeetingId:updateMeetingId,getMeetingAndToken:getMeetingAndToken});}export default App;","map":{"version":3,"sources":["/Users/jreynaud/Dropbox/00_JRVJ/PROJECTS/07_MOMUS/03__FINAL/06_WEB/live-tasting-3/application/videosdk-react-app-v1/src/App.js"],"names":["logo","React","useEffect","useRef","useState","Row","Col","MeetingProvider","MeetingConsumer","useMeeting","useParticipant","getToken","createMeeting","chunk","arr","newArr","length","push","splice","ParticipantView","props","webcamRef","micRef","screenShareRef","participantId","displayName","webcamStream","micStream","screenShareStream","webcamOn","micOn","screenShareOn","current","mediaStream","MediaStream","addTrack","track","srcObject","play","catch","error","console","MeetingGrid","joined","setJoined","join","leave","toggleMic","toggleWebcam","toggleScreenShare","participants","joinMeeting","meetingId","keys","map","k","l","JoinScreen","updateMeetingId","getMeetingAndToken","e","target","value","App","token","setToken","setMeetingId","micEnabled","webcamEnabled","name"],"mappings":"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","sourcesContent":["import logo from './logo.svg';\nimport './App.css';\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { Row, Col } from 'react-simple-flex-grid';\nimport \"react-simple-flex-grid/lib/main.css\";\nimport {\n  MeetingProvider,\n  MeetingConsumer,\n  useMeeting,\n  useParticipant,\n} from \"@videosdk.live/react-sdk\";\n\nimport { getToken, createMeeting } from \"./api\";\n\nconst chunk = (arr) => {\n  const newArr = [];\n  while (arr.length) newArr.push(arr.splice(0, 3));\n  return newArr;\n};\n\n\nfunction ParticipantView(props) {\n  const webcamRef = useRef(null);\n  const micRef = useRef(null);\n  const screenShareRef = useRef(null);\n\n  const {\n    displayName,\n    webcamStream,\n    micStream,\n    screenShareStream,\n    webcamOn,\n    micOn,\n    screenShareOn\n  } = useParticipant(props.participantId);\n\n  useEffect(() => {\n    if (webcamRef.current) {\n      if (webcamOn) {\n        const mediaStream = new MediaStream();\n        mediaStream.addTrack(webcamStream.track);\n\n        webcamRef.current.srcObject = mediaStream;\n        webcamRef.current\n          .play()\n          .catch((error) =>\n            console.error(\"videoElem.current.play() failed\", error)\n          );\n      } else {\n        webcamRef.current.srcObject = null;\n      }\n    }\n  }, [webcamStream, webcamOn]);\n\n  useEffect(() => {\n    if (micRef.current) {\n      if (micOn) {\n        const mediaStream = new MediaStream();\n        mediaStream.addTrack(micStream.track);\n\n        micRef.current.srcObject = mediaStream;\n        micRef.current\n          .play()\n          .catch((error) =>\n            console.error(\"videoElem.current.play() failed\", error)\n          );\n      } else {\n        micRef.current.srcObject = null;\n      }\n    }\n  }, [micStream, micOn]);\n\n  useEffect(() => {\n    if (screenShareRef.current) {\n      if (screenShareOn) {\n        const mediaStream = new MediaStream();\n        mediaStream.addTrack(screenShareStream.track);\n\n        screenShareRef.current.srcObject = mediaStream;\n        screenShareRef.current\n          .play()\n          .catch((error) =>\n            console.error(\"videoElem.current.play() failed\", error)\n          );\n      } else {\n        screenShareRef.current.srcObject = null;\n      }\n    }\n  }, [screenShareStream, screenShareOn]);\n\n\n  return (\n    <div key={props.participantId} >\n      <audio ref={micRef} autoPlay />\n      {webcamRef ||  micOn ? (<div>\n      <h2>{displayName}</h2>\n      <video\n        height={\"100%\"}\n        width={\"100%\"}\n        ref={webcamRef}\n        autoPlay\n      />\n      </div>) : null }\n      {screenShareOn ? (\n      <div>\n        <h2>Screen Shared</h2>\n        <video\n          height={\"100%\"}\n          width={\"100%\"}\n          ref={screenShareRef}\n          autoPlay\n        />\n      </div>) : null }\n      <br/>\n      <span>Mic:{micOn ? \"Yes\": \"No\"}, Camera: {webcamOn ? \"Yes\" : \"No\"}, Screen Share: {screenShareOn ? \"Yes\" : \"No\"}</span>\n    </div>\n  );\n}\n\n\n\nfunction MeetingGrid(props) {\n  const [joined, setJoined] = useState(false)\n  const {\n    join, \n    leave,  \n    toggleMic,\n    toggleWebcam,\n    toggleScreenShare\n  } = useMeeting()\n  const { participants } = useMeeting();\n  const joinMeeting = () => {\n    setJoined(true)\n    join()\n  }\n  return (\n    <div>\n      <header>Meeting Id: {props.meetingId}</header>\n      {joined ? \n      (\n        <div >\n          <button  onClick={leave}>\n            Leave\n          </button>\n          <button  onClick={toggleMic}>\n            toggleMic\n          </button>\n          <button  onClick={toggleWebcam}>\n            toggleWebcam\n          </button>\n          <button  onClick={toggleScreenShare}>\n            toggleScreenShare\n          </button> \n        </div>\n      ) \n      : (<button  onClick={joinMeeting}>\n        Join\n      </button>)}\n      <div\n        \n      >\n        {chunk([...participants.keys()]).map((k) => (\n          <Row  key={k}  gutter={80}>\n              {k.map((l) => (\n                <Col span={4}>\n                  <ParticipantView key={l} participantId={l} />\n                </Col>\n              ))}\n          </Row>\n        ))}\n      </div>\n      \n    </div>\n  )\n}\n\nfunction JoinScreen({updateMeetingId, getMeetingAndToken}) {\n  return(\n    <div>\n      <input type=\"text\" placeholder=\"Enter Meeting Id\" onChange={(e) => {updateMeetingId(e.target.value)}}  />\n      <button  onClick={getMeetingAndToken}>\n        Join\n      </button>\n      <button  onClick={getMeetingAndToken}>\n        Create Meeting\n      </button>\n    </div>\n  );\n}\n\n\nfunction App() {\n  const [token, setToken] = useState(null);\n  const [meetingId, setMeetingId] = useState(null);\n\n  const getMeetingAndToken = async () => {\n    const token = await getToken();\n    setToken(token);\n    setMeetingId(meetingId ? meetingId : (await createMeeting({ token })));\n  };\n\n  const updateMeetingId = (meetingId) => {\n    setMeetingId(meetingId)\n  }\n\n  return token && meetingId ? (\n    <MeetingProvider\n      config={{\n        meetingId,\n        micEnabled: true,\n        webcamEnabled: true,\n        name: \"John doe\",\n      }}\n      token={token}\n    >\n      <MeetingConsumer>\n        {() => <MeetingGrid meetingId={meetingId} getMeetingAndToken={getMeetingAndToken}  />}\n      </MeetingConsumer>\n    </MeetingProvider>\n  ) : (\n    <JoinScreen updateMeetingId={updateMeetingId} getMeetingAndToken={getMeetingAndToken}   />\n  );\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}