{"ast":null,"code":"import React, { createContext, useEffect, useContext, useState, useRef, useMemo } from 'react';\nimport EventEmitter from 'events';\nimport { VideoSDK } from '@videosdk.live/js-sdk';\nvar eventPrifix = 'videosdk-live-react-sdk';\nvar events = {\n  'participant-joined': eventPrifix + \"-participant-joined\",\n  'participant-left': eventPrifix + \"-participant-left\",\n  'speaker-changed': eventPrifix + \"-speaker-changed\",\n  'presenter-changed': eventPrifix + \"-presenter-changed\",\n  'main-participant-changed': eventPrifix + \"-main-participant-changed\",\n  'entry-requested': eventPrifix + \"-entry-requested\",\n  'entry-responded': eventPrifix + \"-entry-responded\",\n  'recording-started': eventPrifix + \"-recording-started\",\n  'recording-stopped': eventPrifix + \"-recording-stopped\",\n  'chat-message': eventPrifix + \"-chat-message\",\n  'meeting-joined': eventPrifix + \"-meeting-joined\",\n  'meeting-left': eventPrifix + \"-meeting-left\",\n  'live-stream-started': eventPrifix + \"-live-stream-started\",\n  'live-stream-stopped': eventPrifix + \"-live-stream-stopped\",\n  'video-state-changed': eventPrifix + \"-video-state-changed\",\n  'video-seeked': eventPrifix + \"-video-seeked\",\n  'webcam-requested': eventPrifix + \"-webcam-requested\",\n  'mic-requested': eventPrifix + \"-mic-requested\",\n  'pin-state-changed': eventPrifix + \"-pin-state-changed\",\n  'connection-open': eventPrifix + \"-connection-open\",\n  'connection-close': eventPrifix + \"-connection-close\",\n  'switch-meeting': eventPrifix + \"-switch-meeting\",\n  error: eventPrifix + \"-error\"\n};\nvar eventEmitter = new EventEmitter();\neventEmitter.setMaxListeners(9999);\nvar MeetingProviderContex = createContext();\n\nvar useMeeting = function useMeeting(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      _ref$onParticipantJoi = _ref.onParticipantJoined,\n      onParticipantJoined = _ref$onParticipantJoi === void 0 ? function () {} : _ref$onParticipantJoi,\n      _ref$onParticipantLef = _ref.onParticipantLeft,\n      onParticipantLeft = _ref$onParticipantLef === void 0 ? function () {} : _ref$onParticipantLef,\n      _ref$onSpeakerChanged = _ref.onSpeakerChanged,\n      onSpeakerChanged = _ref$onSpeakerChanged === void 0 ? function () {} : _ref$onSpeakerChanged,\n      _ref$onPresenterChang = _ref.onPresenterChanged,\n      onPresenterChanged = _ref$onPresenterChang === void 0 ? function () {} : _ref$onPresenterChang,\n      _ref$onMainParticipan = _ref.onMainParticipantChanged,\n      onMainParticipantChanged = _ref$onMainParticipan === void 0 ? function () {} : _ref$onMainParticipan,\n      _ref$onEntryRequested = _ref.onEntryRequested,\n      onEntryRequested = _ref$onEntryRequested === void 0 ? function () {} : _ref$onEntryRequested,\n      _ref$onEntryResponded = _ref.onEntryResponded,\n      onEntryResponded = _ref$onEntryResponded === void 0 ? function () {} : _ref$onEntryResponded,\n      _ref$onRecordingStart = _ref.onRecordingStarted,\n      onRecordingStarted = _ref$onRecordingStart === void 0 ? function () {} : _ref$onRecordingStart,\n      _ref$onRecordingStopp = _ref.onRecordingStopped,\n      onRecordingStopped = _ref$onRecordingStopp === void 0 ? function () {} : _ref$onRecordingStopp,\n      _ref$onChatMessage = _ref.onChatMessage,\n      onChatMessage = _ref$onChatMessage === void 0 ? function () {} : _ref$onChatMessage,\n      _ref$onMeetingJoined = _ref.onMeetingJoined,\n      onMeetingJoined = _ref$onMeetingJoined === void 0 ? function () {} : _ref$onMeetingJoined,\n      _ref$onMeetingLeft = _ref.onMeetingLeft,\n      onMeetingLeft = _ref$onMeetingLeft === void 0 ? function () {} : _ref$onMeetingLeft,\n      _ref$onLiveStreamStar = _ref.onLiveStreamStarted,\n      onLiveStreamStarted = _ref$onLiveStreamStar === void 0 ? function () {} : _ref$onLiveStreamStar,\n      _ref$onLiveStreamStop = _ref.onLiveStreamStopped,\n      onLiveStreamStopped = _ref$onLiveStreamStop === void 0 ? function () {} : _ref$onLiveStreamStop,\n      _ref$onVideoStateChan = _ref.onVideoStateChanged,\n      onVideoStateChanged = _ref$onVideoStateChan === void 0 ? function () {} : _ref$onVideoStateChan,\n      _ref$onVideoSeeked = _ref.onVideoSeeked,\n      onVideoSeeked = _ref$onVideoSeeked === void 0 ? function () {} : _ref$onVideoSeeked,\n      _ref$onWebcamRequeste = _ref.onWebcamRequested,\n      onWebcamRequested = _ref$onWebcamRequeste === void 0 ? function () {} : _ref$onWebcamRequeste,\n      _ref$onMicRequested = _ref.onMicRequested,\n      onMicRequested = _ref$onMicRequested === void 0 ? function () {} : _ref$onMicRequested,\n      _ref$onPinStateChange = _ref.onPinStateChanged,\n      onPinStateChanged = _ref$onPinStateChange === void 0 ? function () {} : _ref$onPinStateChange,\n      _ref$onConnectionOpen = _ref.onConnectionOpen,\n      onConnectionOpen = _ref$onConnectionOpen === void 0 ? function () {} : _ref$onConnectionOpen,\n      _ref$onConnetionClose = _ref.onConnetionClose,\n      onConnetionClose = _ref$onConnetionClose === void 0 ? function () {} : _ref$onConnetionClose,\n      _ref$onSwitchMeeting = _ref.onSwitchMeeting,\n      onSwitchMeeting = _ref$onSwitchMeeting === void 0 ? function () {} : _ref$onSwitchMeeting,\n      _ref$onError = _ref.onError,\n      onError = _ref$onError === void 0 ? function () {} : _ref$onError;\n\n  useEffect(function () {\n    eventEmitter.on(events['participant-joined'], onParticipantJoined);\n    eventEmitter.on(events['participant-left'], onParticipantLeft);\n    eventEmitter.on(events['speaker-changed'], onSpeakerChanged);\n    eventEmitter.on(events['presenter-changed'], onPresenterChanged);\n    eventEmitter.on(events['main-participant-changed'], onMainParticipantChanged);\n    eventEmitter.on(events['entry-requested'], onEntryRequested);\n    eventEmitter.on(events['entry-responded'], onEntryResponded);\n    eventEmitter.on(events['recording-started'], onRecordingStarted);\n    eventEmitter.on(events['recording-stopped'], onRecordingStopped);\n    eventEmitter.on(events['chat-message'], onChatMessage);\n    eventEmitter.on(events['meeting-joined'], onMeetingJoined);\n    eventEmitter.on(events['meeting-left'], onMeetingLeft);\n    eventEmitter.on(events['live-stream-started'], onLiveStreamStarted);\n    eventEmitter.on(events['live-stream-stopped'], onLiveStreamStopped);\n    eventEmitter.on(events['video-state-changed'], onVideoStateChanged);\n    eventEmitter.on(events['video-seeked'], onVideoSeeked);\n    eventEmitter.on(events['webcam-requested'], onWebcamRequested);\n    eventEmitter.on(events['mic-requested'], onMicRequested);\n    eventEmitter.on(events['pin-state-changed'], onPinStateChanged);\n    eventEmitter.on(events['connection-open'], onConnectionOpen);\n    eventEmitter.on(events['connection-close'], onConnetionClose);\n    eventEmitter.on(events['switch-meeting'], onSwitchMeeting);\n    eventEmitter.on(events['error'], onError);\n    return function () {\n      eventEmitter.off(events['participant-joined'], onParticipantJoined);\n      eventEmitter.off(events['participant-left'], onParticipantLeft);\n      eventEmitter.off(events['speaker-changed'], onSpeakerChanged);\n      eventEmitter.off(events['presenter-changed'], onPresenterChanged);\n      eventEmitter.off(events['main-participant-changed'], onMainParticipantChanged);\n      eventEmitter.off(events['entry-requested'], onEntryRequested);\n      eventEmitter.off(events['entry-responded'], onEntryResponded);\n      eventEmitter.off(events['recording-started'], onRecordingStarted);\n      eventEmitter.off(events['recording-stopped'], onRecordingStopped);\n      eventEmitter.off(events['chat-message'], onChatMessage);\n      eventEmitter.off(events['meeting-joined'], onMeetingJoined);\n      eventEmitter.off(events['meeting-left'], onMeetingLeft);\n      eventEmitter.off(events['live-stream-started'], onLiveStreamStarted);\n      eventEmitter.off(events['live-stream-stopped'], onLiveStreamStopped);\n      eventEmitter.off(events['video-state-changed'], onVideoStateChanged);\n      eventEmitter.off(events['video-seeked'], onVideoSeeked);\n      eventEmitter.off(events['webcam-requested'], onWebcamRequested);\n      eventEmitter.off(events['mic-requested'], onMicRequested);\n      eventEmitter.off(events['pin-state-changed'], onPinStateChanged);\n      eventEmitter.off(events['connection-open'], onConnectionOpen);\n      eventEmitter.off(events['connection-close'], onConnetionClose);\n      eventEmitter.off(events['switch-meeting'], onSwitchMeeting);\n      eventEmitter.off(events['error'], onError);\n    };\n  }, []);\n  return useContext(MeetingProviderContex);\n};\n\nvar MeetingConsumer = function MeetingConsumer(_ref2) {\n  var children = _ref2.children,\n      _ref2$onParticipantJo = _ref2.onParticipantJoined,\n      onParticipantJoined = _ref2$onParticipantJo === void 0 ? function () {} : _ref2$onParticipantJo,\n      _ref2$onParticipantLe = _ref2.onParticipantLeft,\n      onParticipantLeft = _ref2$onParticipantLe === void 0 ? function () {} : _ref2$onParticipantLe,\n      _ref2$onSpeakerChange = _ref2.onSpeakerChanged,\n      onSpeakerChanged = _ref2$onSpeakerChange === void 0 ? function () {} : _ref2$onSpeakerChange,\n      _ref2$onPresenterChan = _ref2.onPresenterChanged,\n      onPresenterChanged = _ref2$onPresenterChan === void 0 ? function () {} : _ref2$onPresenterChan,\n      _ref2$onMainParticipa = _ref2.onMainParticipantChanged,\n      onMainParticipantChanged = _ref2$onMainParticipa === void 0 ? function () {} : _ref2$onMainParticipa,\n      _ref2$onEntryRequeste = _ref2.onEntryRequested,\n      onEntryRequested = _ref2$onEntryRequeste === void 0 ? function () {} : _ref2$onEntryRequeste,\n      _ref2$onEntryResponde = _ref2.onEntryResponded,\n      onEntryResponded = _ref2$onEntryResponde === void 0 ? function () {} : _ref2$onEntryResponde,\n      _ref2$onRecordingStar = _ref2.onRecordingStarted,\n      onRecordingStarted = _ref2$onRecordingStar === void 0 ? function () {} : _ref2$onRecordingStar,\n      _ref2$onRecordingStop = _ref2.onRecordingStopped,\n      onRecordingStopped = _ref2$onRecordingStop === void 0 ? function () {} : _ref2$onRecordingStop,\n      _ref2$onChatMessage = _ref2.onChatMessage,\n      onChatMessage = _ref2$onChatMessage === void 0 ? function () {} : _ref2$onChatMessage,\n      _ref2$onMeetingJoined = _ref2.onMeetingJoined,\n      onMeetingJoined = _ref2$onMeetingJoined === void 0 ? function () {} : _ref2$onMeetingJoined,\n      _ref2$onMeetingLeft = _ref2.onMeetingLeft,\n      onMeetingLeft = _ref2$onMeetingLeft === void 0 ? function () {} : _ref2$onMeetingLeft,\n      _ref2$onLiveStreamSta = _ref2.onLiveStreamStarted,\n      onLiveStreamStarted = _ref2$onLiveStreamSta === void 0 ? function () {} : _ref2$onLiveStreamSta,\n      _ref2$onLiveStreamSto = _ref2.onLiveStreamStopped,\n      onLiveStreamStopped = _ref2$onLiveStreamSto === void 0 ? function () {} : _ref2$onLiveStreamSto,\n      _ref2$onVideoStateCha = _ref2.onVideoStateChanged,\n      onVideoStateChanged = _ref2$onVideoStateCha === void 0 ? function () {} : _ref2$onVideoStateCha,\n      _ref2$onVideoSeeked = _ref2.onVideoSeeked,\n      onVideoSeeked = _ref2$onVideoSeeked === void 0 ? function () {} : _ref2$onVideoSeeked,\n      _ref2$onWebcamRequest = _ref2.onWebcamRequested,\n      onWebcamRequested = _ref2$onWebcamRequest === void 0 ? function () {} : _ref2$onWebcamRequest,\n      _ref2$onMicRequested = _ref2.onMicRequested,\n      onMicRequested = _ref2$onMicRequested === void 0 ? function () {} : _ref2$onMicRequested,\n      _ref2$onPinStateChang = _ref2.onPinStateChanged,\n      onPinStateChanged = _ref2$onPinStateChang === void 0 ? function () {} : _ref2$onPinStateChang,\n      _ref2$onConnectionOpe = _ref2.onConnectionOpen,\n      onConnectionOpen = _ref2$onConnectionOpe === void 0 ? function () {} : _ref2$onConnectionOpe,\n      _ref2$onConnetionClos = _ref2.onConnetionClose,\n      onConnetionClose = _ref2$onConnetionClos === void 0 ? function () {} : _ref2$onConnetionClos,\n      _ref2$onSwitchMeeting = _ref2.onSwitchMeeting,\n      onSwitchMeeting = _ref2$onSwitchMeeting === void 0 ? function () {} : _ref2$onSwitchMeeting,\n      _ref2$onError = _ref2.onError,\n      onError = _ref2$onError === void 0 ? function () {} : _ref2$onError;\n  useEffect(function () {\n    eventEmitter.on(events['participant-joined'], onParticipantJoined);\n    eventEmitter.on(events['participant-left'], onParticipantLeft);\n    eventEmitter.on(events['speaker-changed'], onSpeakerChanged);\n    eventEmitter.on(events['presenter-changed'], onPresenterChanged);\n    eventEmitter.on(events['main-participant-changed'], onMainParticipantChanged);\n    eventEmitter.on(events['entry-requested'], onEntryRequested);\n    eventEmitter.on(events['entry-responded'], onEntryResponded);\n    eventEmitter.on(events['recording-started'], onRecordingStarted);\n    eventEmitter.on(events['recording-stopped'], onRecordingStopped);\n    eventEmitter.on(events['chat-message'], onChatMessage);\n    eventEmitter.on(events['meeting-joined'], onMeetingJoined);\n    eventEmitter.on(events['meeting-left'], onMeetingLeft);\n    eventEmitter.on(events['live-stream-enabled'], onLiveStreamStarted);\n    eventEmitter.on(events['live-stream-disabled'], onLiveStreamStopped);\n    eventEmitter.on(events['video-state-changed'], onVideoStateChanged);\n    eventEmitter.on(events['video-seeked'], onVideoSeeked);\n    eventEmitter.on(events['webcam-requested'], onWebcamRequested);\n    eventEmitter.on(events['mic-requested'], onMicRequested);\n    eventEmitter.on(events['pin-state-changed'], onPinStateChanged);\n    eventEmitter.on(events['connection-open'], onConnectionOpen);\n    eventEmitter.on(events['connection-close'], onConnetionClose);\n    eventEmitter.on(events['switch-meeting'], onSwitchMeeting);\n    eventEmitter.on(events['error'], onError);\n    return function () {\n      eventEmitter.off(events['participant-joined'], onParticipantJoined);\n      eventEmitter.off(events['participant-left'], onParticipantLeft);\n      eventEmitter.off(events['speaker-changed'], onSpeakerChanged);\n      eventEmitter.off(events['presenter-changed'], onPresenterChanged);\n      eventEmitter.off(events['main-participant-changed'], onMainParticipantChanged);\n      eventEmitter.off(events['entry-requested'], onEntryRequested);\n      eventEmitter.off(events['entry-responded'], onEntryResponded);\n      eventEmitter.off(events['recording-started'], onRecordingStarted);\n      eventEmitter.off(events['recording-stopped'], onRecordingStopped);\n      eventEmitter.off(events['chat-message'], onChatMessage);\n      eventEmitter.off(events['meeting-joined'], onMeetingJoined);\n      eventEmitter.off(events['meeting-left'], onMeetingLeft);\n      eventEmitter.off(events['live-stream-enabled'], onLiveStreamStarted);\n      eventEmitter.off(events['live-stream-disabled'], onLiveStreamStopped);\n      eventEmitter.off(events['video-state-changed'], onVideoStateChanged);\n      eventEmitter.off(events['video-seeked'], onVideoSeeked);\n      eventEmitter.off(events['webcam-requested'], onWebcamRequested);\n      eventEmitter.off(events['mic-requested'], onMicRequested);\n      eventEmitter.off(events['pin-state-changed'], onPinStateChanged);\n      eventEmitter.off(events['connection-open'], onConnectionOpen);\n      eventEmitter.off(events['connection-close'], onConnetionClose);\n      eventEmitter.off(events['switch-meeting'], onSwitchMeeting);\n      eventEmitter.off(events['error'], onError);\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MeetingProviderContex.Consumer, null, children));\n};\n\nvar MeetingProvider = function MeetingProvider(_ref) {\n  var children = _ref.children,\n      config = _ref.config,\n      token = _ref.token,\n      joinWithoutUserInteraction = _ref.joinWithoutUserInteraction,\n      _reinitialiseMeetingOnConfigChange = _ref.reinitialiseMeetingOnConfigChange;\n\n  var _useState = useState(null),\n      meeting = _useState[0],\n      setMeeting = _useState[1];\n\n  var _useState2 = useState(null),\n      localParticipant = _useState2[0],\n      setLocalParticipant = _useState2[1];\n\n  var _useState3 = useState(null),\n      mainParticipant = _useState3[0],\n      setMainParticipant = _useState3[1];\n\n  var _useState4 = useState(null),\n      activeSpeakerId = _useState4[0],\n      setActiveSpeakerId = _useState4[1];\n\n  var _useState5 = useState(null),\n      presenterId = _useState5[0],\n      setPresenterId = _useState5[1];\n\n  var _useState6 = useState(false),\n      localMicOn = _useState6[0],\n      setLocalMicOn = _useState6[1];\n\n  var _useState7 = useState(false),\n      localWebcamOn = _useState7[0],\n      setLocalWebcamOn = _useState7[1];\n\n  var _useState8 = useState(false),\n      localScreenShareOn = _useState8[0],\n      setLocalScreenShareOn = _useState8[1];\n\n  var _useState9 = useState(false),\n      isRecording = _useState9[0],\n      setIsRecording = _useState9[1];\n\n  var _useState10 = useState([]),\n      messages = _useState10[0],\n      setMessages = _useState10[1];\n\n  var _useState11 = useState(new Map()),\n      participants = _useState11[0],\n      setParticipants = _useState11[1];\n\n  var _useState12 = useState(new Map()),\n      pinnedParticipants = _useState12[0],\n      setPinnedParticipants = _useState12[1];\n\n  var _useState13 = useState(false),\n      isLiveStreaming = _useState13[0],\n      setIsLiveStreaming = _useState13[1];\n\n  var _useState14 = useState(new Map()),\n      connections = _useState14[0],\n      setConnections = _useState14[1];\n\n  var _useState15 = useState(false),\n      isMeetingJoined = _useState15[0],\n      setIsMeetingJoined = _useState15[1];\n\n  var meetingRef = useRef();\n  var localMicOnRef = useRef();\n  var localWebcamOnRef = useRef();\n  var localScreenShareOnRef = useRef();\n  var isRecordingRef = useRef();\n  var configRef = useRef(config);\n  var tokenRef = useRef(token);\n  var joinedOnFirstRender = useRef(false);\n  var reinitialiseMeetingOnConfigChange = useMemo(function () {\n    return _reinitialiseMeetingOnConfigChange;\n  }, []);\n  useEffect(function () {\n    meetingRef.current = meeting;\n  }, [meeting]);\n  useEffect(function () {\n    localMicOnRef.current = localMicOn;\n  }, [localMicOn]);\n  useEffect(function () {\n    localWebcamOnRef.current = localWebcamOn;\n  }, [localWebcamOn]);\n  useEffect(function () {\n    localScreenShareOnRef.current = localScreenShareOn;\n  }, [localScreenShareOn]);\n  useEffect(function () {\n    isRecordingRef.current = isRecording;\n  }, [isRecording]);\n  useEffect(function () {\n    configRef.current = config;\n  }, [config]);\n  useEffect(function () {\n    tokenRef.current = token;\n  }, [token]);\n\n  var resetStates = function resetStates() {\n    setMeeting(null);\n    setLocalParticipant(null);\n    setMainParticipant(null);\n    setActiveSpeakerId(null);\n    setPresenterId(null);\n    setLocalMicOn(false);\n    setLocalWebcamOn(false);\n    setLocalScreenShareOn(false);\n    setIsRecording(false);\n    setMessages([]);\n    setIsLiveStreaming(false);\n    setParticipants(new Map());\n    setPinnedParticipants(new Map());\n    setConnections(new Map());\n    setIsMeetingJoined(false);\n  };\n\n  var _handle_participant_joined = function _handle_participant_joined(participant) {\n    setParticipants(function (participants) {\n      participants.set(participant.id, participant);\n      var participantsToSet = new Map(participants);\n      return participantsToSet;\n    });\n    eventEmitter.emit(events['participant-joined'], participant);\n  };\n\n  var _handle_participant_left = function _handle_participant_left(participant) {\n    setParticipants(function (participants) {\n      participants[\"delete\"](participant.id);\n      var newParticipants = new Map(participants);\n      return newParticipants;\n    });\n    eventEmitter.emit(events['participant-left'], participant);\n  };\n\n  var _handle_presenter_changed = function _handle_presenter_changed(presenterId) {\n    var _meetingRef$current, _meetingRef$current$l;\n\n    setPresenterId(presenterId);\n    setLocalScreenShareOn(presenterId === (meetingRef === null || meetingRef === void 0 ? void 0 : (_meetingRef$current = meetingRef.current) === null || _meetingRef$current === void 0 ? void 0 : (_meetingRef$current$l = _meetingRef$current.localParticipant) === null || _meetingRef$current$l === void 0 ? void 0 : _meetingRef$current$l.id));\n    eventEmitter.emit(events['presenter-changed'], presenterId);\n  };\n\n  var _handle_main_participant_changed = function _handle_main_participant_changed(participant) {\n    setMainParticipant(participant);\n    eventEmitter.emit(events['main-participant-changed'], participant);\n  };\n\n  var _handle_speaker_changed = function _handle_speaker_changed(activeSpeakerId) {\n    setActiveSpeakerId(activeSpeakerId);\n    eventEmitter.emit(events['speaker-changed'], activeSpeakerId);\n  };\n\n  var _handle_chat_message = function _handle_chat_message(data) {\n    setMessages(function (s) {\n      return [].concat(s, [data]);\n    });\n    eventEmitter.emit(events['chat-message'], data);\n  };\n\n  var _handle_entry_requested = function _handle_entry_requested(data) {\n    eventEmitter.emit(events['entry-requested'], data);\n  };\n\n  var _handle_entry_responded = function _handle_entry_responded(participantId, decision) {\n    eventEmitter.emit(events['entry-responded'], participantId, decision);\n  };\n\n  var _handle_recording_started = function _handle_recording_started() {\n    setIsRecording(true);\n    eventEmitter.emit(events['recording-started']);\n  };\n\n  var _handle_recording_stopped = function _handle_recording_stopped() {\n    setIsRecording(false);\n    eventEmitter.emit(events['recording-stopped']);\n  };\n\n  var _handle_localParticipant_stream_enabled = function _handle_localParticipant_stream_enabled(stream) {\n    if (stream.track.readyState === 'live') {\n      if (stream.kind === 'video') {\n        setLocalWebcamOn(true);\n      } else if (stream.kind === 'audio') {\n        setLocalMicOn(true);\n      }\n    }\n  };\n\n  var _handle_localParticipant_stream_disabled = function _handle_localParticipant_stream_disabled(stream) {\n    if (stream.track.readyState === 'ended') {\n      if (stream.kind === 'video') {\n        setLocalWebcamOn(false);\n      } else if (stream.kind === 'audio') {\n        setLocalMicOn(false);\n      }\n    }\n  };\n\n  var _handle_live_stream_started = function _handle_live_stream_started(data) {\n    setIsLiveStreaming(true);\n    eventEmitter.emit(events['live-stream-started'], data);\n  };\n\n  var _handle_live_stream_stopped = function _handle_live_stream_stopped() {\n    setIsLiveStreaming(false);\n    eventEmitter.emit(events['live-stream-stopped']);\n  };\n\n  var _handle_video_state_changed = function _handle_video_state_changed(data) {\n    eventEmitter.emit(events['video-state-changed'], data);\n  };\n\n  var _handle_video_seeked = function _handle_video_seeked(data) {\n    eventEmitter.emit(events['video-seeked'], data);\n  };\n\n  var _handle_webcam_requested = function _handle_webcam_requested(data) {\n    eventEmitter.emit(events['webcam-requested'], data);\n  };\n\n  var _handle_mic_requested = function _handle_mic_requested(data) {\n    eventEmitter.emit(events['mic-requested'], data);\n  };\n\n  var _handle_meeting_joined = function _handle_meeting_joined(data) {\n    joinedOnFirstRender.current = true;\n    setMessages(function (s) {\n      return [].concat(s, data.messages);\n    });\n    eventEmitter.emit(events['meeting-joined'], data);\n    setIsMeetingJoined(true);\n  };\n\n  var _handle_meeting_left = function _handle_meeting_left() {\n    eventEmitter.emit(events['meeting-left']);\n    var meeting = meetingRef.current;\n\n    if (meeting) {\n      var _meeting$localPartici;\n\n      if (typeof (meeting === null || meeting === void 0 ? void 0 : meeting.off) === 'function') {\n        meeting.off('participant-joined', _handle_participant_joined);\n        meeting.off('participant-left', _handle_participant_left);\n        meeting.off('presenter-changed', _handle_presenter_changed);\n        meeting.off('main-participant-changed', _handle_main_participant_changed);\n        meeting.off('speaker-changed', _handle_speaker_changed);\n        meeting.off('entry-requested', _handle_entry_requested);\n        meeting.off('entry-responded', _handle_entry_responded);\n        meeting.off('chat-message', _handle_chat_message);\n        meeting.off('recording-started', _handle_recording_started);\n        meeting.off('recording-stopped', _handle_recording_stopped);\n        meeting.off('meeting-joined', _handle_meeting_joined);\n        meeting.off('meeting-left', _handle_meeting_left);\n        meeting.off('livestream-started', _handle_live_stream_started);\n        meeting.off('livestream-stopped', _handle_live_stream_stopped);\n        meeting.off('video-state-changed', _handle_video_state_changed);\n        meeting.off('video-seeked', _handle_video_seeked);\n        meeting.off('webcam-requested', _handle_webcam_requested);\n        meeting.off('mic-requested', _handle_mic_requested);\n        meeting.off('pin-state-changed', _handle_pin_state_changed);\n        meeting.off('connection-open', _handle_connection_open);\n        meeting.off('connection-close', _handle_connection_close);\n        meeting.off('switch-meeting', _handle_switch_meeting);\n        meeting.off('error', _handle_error);\n      }\n\n      if (typeof (meeting === null || meeting === void 0 ? void 0 : (_meeting$localPartici = meeting.localParticipant) === null || _meeting$localPartici === void 0 ? void 0 : _meeting$localPartici.off) === 'function') {\n        meeting.localParticipant.off('stream-enabled', _handle_localParticipant_stream_enabled);\n        meeting.localParticipant.off('stream-disabled', _handle_localParticipant_stream_disabled);\n      }\n\n      resetStates();\n    }\n  };\n\n  var _handle_pin_state_changed = function _handle_pin_state_changed(_ref2) {\n    var participantId = _ref2.participantId,\n        state = _ref2.state,\n        pinnedBy = _ref2.pinnedBy;\n    setPinnedParticipants(function (pinnedParticipants) {\n      if (!state.cam && !state.share) {\n        pinnedParticipants[\"delete\"](participantId);\n      } else {\n        pinnedParticipants.set(participantId, state);\n      }\n\n      var pinnedParticipantsToSet = new Map(pinnedParticipants);\n      return pinnedParticipantsToSet;\n    });\n    eventEmitter.emit(events['pin-state-changed'], {\n      participantId: participantId,\n      state: state,\n      pinnedBy: pinnedBy\n    });\n  };\n\n  var _handle_connection_open = function _handle_connection_open(connection) {\n    setConnections(function (s) {\n      s.set(connection.id, connection);\n      var connectionsToSet = new Map(s);\n      return connectionsToSet;\n    });\n    eventEmitter.emit(events['connection-open'], connection);\n  };\n\n  var _handle_connection_close = function _handle_connection_close(connectionId) {\n    setConnections(function (s) {\n      s[\"delete\"](connectionId);\n      var newConnections = new Map(s);\n      return newConnections;\n    });\n    eventEmitter.emit(events['connection-close'], connectionId);\n  };\n\n  var _handle_error = function _handle_error(data) {\n    eventEmitter.emit(events['error'], data);\n  };\n\n  var _handle_switch_meeting = function _handle_switch_meeting(d) {\n    eventEmitter.emit(events['switch-meeting'], d);\n  };\n\n  var join = function join() {\n    var meeting = VideoSDK && VideoSDK.initMeeting(configRef.current);\n    setMeeting(meeting);\n    var localParticipant = meeting.localParticipant,\n        participants = meeting.participants;\n    participants.set(localParticipant.id, localParticipant);\n    setParticipants(participants);\n    setLocalParticipant(localParticipant);\n    meeting.on('participant-joined', _handle_participant_joined);\n    meeting.on('participant-left', _handle_participant_left);\n    meeting.on('presenter-changed', _handle_presenter_changed);\n    meeting.on('main-participant-changed', _handle_main_participant_changed);\n    meeting.on('speaker-changed', _handle_speaker_changed);\n    meeting.on('entry-requested', _handle_entry_requested);\n    meeting.on('entry-responded', _handle_entry_responded);\n    meeting.on('chat-message', _handle_chat_message);\n    meeting.on('recording-started', _handle_recording_started);\n    meeting.on('recording-stopped', _handle_recording_stopped);\n    meeting.on('meeting-joined', _handle_meeting_joined);\n    meeting.on('meeting-left', _handle_meeting_left);\n    meeting.on('livestream-started', _handle_live_stream_started);\n    meeting.on('livestream-stopped', _handle_live_stream_stopped);\n    meeting.on('video-state-changed', _handle_video_state_changed);\n    meeting.on('video-seeked', _handle_video_seeked);\n    meeting.on('webcam-requested', _handle_webcam_requested);\n    meeting.on('mic-requested', _handle_mic_requested);\n    meeting.on('pin-state-changed', _handle_pin_state_changed);\n    meeting.on('connection-open', _handle_connection_open);\n    meeting.on('connection-close', _handle_connection_close);\n    meeting.on('switch-meeting', _handle_switch_meeting);\n    meeting.on('error', _handle_error);\n    meeting.localParticipant.on('stream-enabled', _handle_localParticipant_stream_enabled);\n    meeting.localParticipant.on('stream-disabled', _handle_localParticipant_stream_disabled);\n    meeting.join();\n  };\n\n  var leave = function leave() {\n    var meeting = meetingRef.current;\n\n    if (meeting) {\n      meeting.leave();\n    }\n  };\n\n  var end = function end() {\n    var meeting = meetingRef.current;\n\n    if (meeting) {\n      meeting.end();\n    }\n  };\n\n  var startRecording = function startRecording(webhookUrl, awsDirPath, config) {\n    var meeting = meetingRef.current;\n\n    if (meeting) {\n      meeting.startRecording(webhookUrl, awsDirPath, config);\n    }\n  };\n\n  var stopRecording = function stopRecording() {\n    var meeting = meetingRef.current;\n\n    if (meeting) {\n      var _isRecording = isRecordingRef.current;\n\n      if (_isRecording) {\n        meeting.stopRecording();\n      }\n    }\n  };\n\n  var unmuteMic = function unmuteMic() {\n    var meeting = meetingRef.current;\n\n    if (meeting) {\n      meeting.unmuteMic();\n    }\n  };\n\n  var muteMic = function muteMic() {\n    var meeting = meetingRef.current;\n\n    if (meeting) {\n      meeting.muteMic();\n    }\n  };\n\n  var toggleMic = function toggleMic() {\n    var localMicOn = localMicOnRef.current;\n\n    if (localMicOn) {\n      muteMic();\n    } else {\n      unmuteMic();\n    }\n  };\n\n  var disableWebcam = function disableWebcam() {\n    var meeting = meetingRef.current;\n\n    if (meeting) {\n      meeting.disableWebcam();\n    }\n  };\n\n  var enableWebcam = function enableWebcam() {\n    var meeting = meetingRef.current;\n\n    if (meeting) {\n      meeting.enableWebcam();\n    }\n  };\n\n  var toggleWebcam = function toggleWebcam() {\n    var localWebcamOn = localWebcamOnRef.current;\n\n    if (localWebcamOn) {\n      disableWebcam();\n    } else {\n      enableWebcam();\n    }\n  };\n\n  var disableScreenShare = function disableScreenShare() {\n    var meeting = meetingRef.current;\n\n    if (meeting) {\n      meeting.disableScreenShare();\n    }\n  };\n\n  var enableScreenShare = function enableScreenShare() {\n    var meeting = meetingRef.current;\n\n    if (meeting) {\n      meeting.enableScreenShare();\n    }\n  };\n\n  var toggleScreenShare = function toggleScreenShare() {\n    var localScreenShareOn = localScreenShareOnRef.current;\n\n    if (localScreenShareOn) {\n      disableScreenShare();\n    } else {\n      enableScreenShare();\n    }\n  };\n\n  var sendChatMessage = function sendChatMessage(text) {\n    var meeting = meetingRef.current;\n\n    if (meeting) {\n      meeting.sendChatMessage(text);\n    }\n  };\n\n  var respondEntry = function respondEntry(participantId, decision) {\n    var meeting = meetingRef.current;\n\n    if (meeting) {\n      meeting.respondEntry(participantId, decision);\n    }\n  };\n\n  var getMics = function getMics() {\n    try {\n      var _meeting = meetingRef.current;\n      return Promise.resolve(function () {\n        if (_meeting) {\n          return Promise.resolve(_meeting.getMics());\n        }\n      }());\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var getWebcams = function getWebcams() {\n    try {\n      var _meeting2 = meetingRef.current;\n      return Promise.resolve(function () {\n        if (_meeting2) {\n          return Promise.resolve(_meeting2.getWebcams());\n        }\n      }());\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var changeWebcam = function changeWebcam(deviceId) {\n    var meeting = meetingRef.current;\n\n    if (meeting) {\n      meeting.changeWebcam(deviceId);\n    }\n  };\n\n  var changeMic = function changeMic(deviceId) {\n    var meeting = meetingRef.current;\n\n    if (meeting) {\n      meeting.changeMic(deviceId);\n    }\n  };\n\n  var startVideo = function startVideo(_ref3) {\n    var link = _ref3.link;\n    var meeting = meetingRef.current;\n\n    if (meeting) {\n      meeting.startVideo({\n        link: link\n      });\n    }\n  };\n\n  var stopVideo = function stopVideo() {\n    var meeting = meetingRef.current;\n\n    if (meeting) {\n      meeting.stopVideo();\n    }\n  };\n\n  var resumeVideo = function resumeVideo() {\n    var meeting = meetingRef.current;\n\n    if (meeting) {\n      meeting.resumeVideo();\n    }\n  };\n\n  var pauseVideo = function pauseVideo(_ref4) {\n    var currentTime = _ref4.currentTime;\n    var meeting = meetingRef.current;\n\n    if (meeting) {\n      meeting.pauseVideo({\n        currentTime: currentTime\n      });\n    }\n  };\n\n  var seekVideo = function seekVideo(_ref5) {\n    var currentTime = _ref5.currentTime;\n    var meeting = meetingRef.current;\n\n    if (meeting) {\n      meeting.seekVideo({\n        currentTime: currentTime\n      });\n    }\n  };\n\n  var startLivestream = function startLivestream(streamInfo) {\n    var meeting = meetingRef.current;\n\n    if (meeting) {\n      meeting.startLivestream(streamInfo);\n    }\n  };\n\n  var stopLivestream = function stopLivestream() {\n    var meeting = meetingRef.current;\n\n    if (meeting) {\n      meeting.stopLivestream();\n    }\n  };\n\n  var connectTo = function connectTo(_ref6) {\n    var meetingId = _ref6.meetingId,\n        payload = _ref6.payload;\n\n    try {\n      var _meeting3 = meetingRef.current;\n\n      var _temp2 = function () {\n        if (_meeting3) {\n          return Promise.resolve(_meeting3.connectTo({\n            meetingId: meetingId,\n            payload: payload\n          })).then(function () {});\n        }\n      }();\n\n      return Promise.resolve(_temp2 && _temp2.then ? _temp2.then(function () {}) : void 0);\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var initSDK = function initSDK() {\n    VideoSDK.config(tokenRef.current);\n\n    if (joinWithoutUserInteraction) {\n      join();\n    }\n  };\n\n  useEffect(function () {\n    initSDK();\n  }, []);\n  useEffect(function () {\n    if (reinitialiseMeetingOnConfigChange && joinedOnFirstRender.current) {\n      leave();\n      initSDK();\n      !joinWithoutUserInteraction && join();\n    }\n  }, [config.meetingId, token, reinitialiseMeetingOnConfigChange]);\n  return /*#__PURE__*/React.createElement(MeetingProviderContex.Provider, {\n    value: {\n      meetingId: meeting === null || meeting === void 0 ? void 0 : meeting.id,\n      meeting: meeting,\n      localParticipant: localParticipant,\n      mainParticipant: mainParticipant,\n      activeSpeakerId: activeSpeakerId,\n      participants: participants,\n      presenterId: presenterId,\n      localMicOn: localMicOn,\n      localWebcamOn: localWebcamOn,\n      localScreenShareOn: localScreenShareOn,\n      messages: messages,\n      isRecording: isRecording,\n      isLiveStreaming: isLiveStreaming,\n      pinnedParticipants: pinnedParticipants,\n      connections: connections,\n      join: join,\n      leave: leave,\n      end: end,\n      startRecording: startRecording,\n      stopRecording: stopRecording,\n      sendChatMessage: sendChatMessage,\n      respondEntry: respondEntry,\n      muteMic: muteMic,\n      unmuteMic: unmuteMic,\n      toggleMic: toggleMic,\n      disableWebcam: disableWebcam,\n      enableWebcam: enableWebcam,\n      toggleWebcam: toggleWebcam,\n      disableScreenShare: disableScreenShare,\n      enableScreenShare: enableScreenShare,\n      toggleScreenShare: toggleScreenShare,\n      getMics: getMics,\n      getWebcams: getWebcams,\n      changeWebcam: changeWebcam,\n      changeMic: changeMic,\n      startVideo: startVideo,\n      stopVideo: stopVideo,\n      resumeVideo: resumeVideo,\n      pauseVideo: pauseVideo,\n      seekVideo: seekVideo,\n      startLivestream: startLivestream,\n      stopLivestream: stopLivestream,\n      connectTo: connectTo,\n      isMeetingJoined: isMeetingJoined\n    }\n  }, children);\n};\n\nvar useParticipant = function useParticipant(participantId, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      _ref$onStreamEnabled = _ref.onStreamEnabled,\n      onStreamEnabled = _ref$onStreamEnabled === void 0 ? function () {} : _ref$onStreamEnabled,\n      _ref$onStreamDisabled = _ref.onStreamDisabled,\n      onStreamDisabled = _ref$onStreamDisabled === void 0 ? function () {} : _ref$onStreamDisabled;\n\n  var _useState = useState(null),\n      webcamStream = _useState[0],\n      setwebcamStream = _useState[1];\n\n  var _useState2 = useState(null),\n      micStream = _useState2[0],\n      setMicStream = _useState2[1];\n\n  var _useState3 = useState(null),\n      screenShareStream = _useState3[0],\n      setScreenShareStream = _useState3[1];\n\n  var meeting = useMeeting();\n\n  var _useMemo = useMemo(function () {\n    var _meeting$pinnedPartic;\n\n    var participants = meeting === null || meeting === void 0 ? void 0 : meeting.participants;\n    var localParticipant = meeting === null || meeting === void 0 ? void 0 : meeting.localParticipant;\n    var activeSpeakerId = meeting === null || meeting === void 0 ? void 0 : meeting.activeSpeakerId;\n    var mainParticipant = meeting === null || meeting === void 0 ? void 0 : meeting.mainParticipant;\n    var pinState = (meeting === null || meeting === void 0 ? void 0 : (_meeting$pinnedPartic = meeting.pinnedParticipants) === null || _meeting$pinnedPartic === void 0 ? void 0 : _meeting$pinnedPartic.get(participantId)) || {\n      cam: false,\n      share: false\n    };\n    return {\n      participants: participants,\n      localParticipant: localParticipant,\n      activeSpeakerId: activeSpeakerId,\n      mainParticipant: mainParticipant,\n      pinState: pinState\n    };\n  }, [meeting]),\n      participants = _useMemo.participants,\n      localParticipant = _useMemo.localParticipant,\n      activeSpeakerId = _useMemo.activeSpeakerId,\n      mainParticipant = _useMemo.mainParticipant,\n      pinState = _useMemo.pinState;\n\n  var participant = participants === null || participants === void 0 ? void 0 : participants.get(participantId);\n\n  var setTrack = function setTrack(stream) {\n    if (stream.track.readyState === 'live') {\n      switch (stream.kind) {\n        case 'video':\n          setwebcamStream(stream);\n          break;\n\n        case 'audio':\n          setMicStream(stream);\n          break;\n\n        case 'share':\n          setScreenShareStream(stream);\n          break;\n      }\n    }\n  };\n\n  var unSetTrack = function unSetTrack(stream) {\n    if (stream.track.readyState !== 'live') {\n      switch (stream.kind) {\n        case 'video':\n          setwebcamStream(null);\n          break;\n\n        case 'audio':\n          setMicStream(null);\n          break;\n\n        case 'share':\n          setScreenShareStream(null);\n          break;\n      }\n    }\n  };\n\n  var _handleStreamEnabled = function _handleStreamEnabled(stream) {\n    setTrack(stream);\n    onStreamEnabled(stream);\n  };\n\n  var _handleStreamDisabled = function _handleStreamDisabled(stream) {\n    unSetTrack(stream);\n    onStreamDisabled(stream);\n  };\n\n  var setQuality = function setQuality(quality) {\n    participant === null || participant === void 0 ? void 0 : participant.setQuality(quality);\n  };\n\n  var enableMic = function enableMic() {\n    participant === null || participant === void 0 ? void 0 : participant.enableMic();\n  };\n\n  var disableMic = function disableMic() {\n    participant === null || participant === void 0 ? void 0 : participant.disableMic();\n  };\n\n  var enableWebcam = function enableWebcam() {\n    participant === null || participant === void 0 ? void 0 : participant.enableWebcam();\n  };\n\n  var disableWebcam = function disableWebcam() {\n    participant === null || participant === void 0 ? void 0 : participant.disableWebcam();\n  };\n\n  var pin = function pin(data) {\n    participant === null || participant === void 0 ? void 0 : participant.pin(data);\n  };\n\n  var unpin = function unpin(data) {\n    participant === null || participant === void 0 ? void 0 : participant.unpin(data);\n  };\n\n  var switchTo = function switchTo(data) {\n    return Promise.resolve(participant === null || participant === void 0 ? void 0 : participant.switchTo(data)).then(function () {});\n  };\n\n  useEffect(function () {\n    var streams = participant === null || participant === void 0 ? void 0 : participant.streams;\n\n    if (streams) {\n      streams.forEach(function (stream) {\n        setTrack(stream);\n      });\n    }\n\n    participant === null || participant === void 0 ? void 0 : participant.on('stream-enabled', _handleStreamEnabled);\n    participant === null || participant === void 0 ? void 0 : participant.on('stream-disabled', _handleStreamDisabled);\n    return function () {\n      participant === null || participant === void 0 ? void 0 : participant.off('stream-enabled', _handleStreamEnabled);\n      participant === null || participant === void 0 ? void 0 : participant.off('stream-disabled', _handleStreamDisabled);\n    };\n  }, [participant]);\n  return {\n    displayName: participant === null || participant === void 0 ? void 0 : participant.displayName,\n    participant: participant,\n    webcamStream: webcamStream,\n    micStream: micStream,\n    screenShareStream: screenShareStream,\n    webcamOn: !!webcamStream,\n    micOn: !!micStream,\n    screenShareOn: !!screenShareStream,\n    isLocal: (localParticipant === null || localParticipant === void 0 ? void 0 : localParticipant.id) === participantId,\n    isActiveSpeaker: activeSpeakerId === participantId,\n    isMainParticipant: (mainParticipant === null || mainParticipant === void 0 ? void 0 : mainParticipant.id) === participantId,\n    pinState: pinState,\n    setQuality: setQuality,\n    enableMic: enableMic,\n    disableMic: disableMic,\n    enableWebcam: enableWebcam,\n    disableWebcam: disableWebcam,\n    pin: pin,\n    unpin: unpin,\n    switchTo: switchTo\n  };\n};\n\nvar useConnection = function useConnection(connectionId, _temp) {\n  var _ref = _temp === void 0 ? {\n    onMeeting: {\n      onParticipantJoined: function onParticipantJoined() {},\n      onParticipantLeft: function onParticipantLeft() {},\n      onChatMessage: function onChatMessage() {}\n    }\n  } : _temp,\n      onMeeting = _ref.onMeeting;\n\n  var onParticipantJoined = onMeeting === null || onMeeting === void 0 ? void 0 : onMeeting.onParticipantJoined;\n  var onParticipantLeft = onMeeting === null || onMeeting === void 0 ? void 0 : onMeeting.onParticipantLeft;\n  var onChatMessage = onMeeting === null || onMeeting === void 0 ? void 0 : onMeeting.onChatMessage;\n  var meeting = useMeeting();\n\n  var _useMemo = useMemo(function () {\n    var connection = meeting === null || meeting === void 0 ? void 0 : meeting.connections.get(connectionId);\n\n    if (!connection) {\n      throw new Error('connectionId not found');\n    }\n\n    var connectionParticipants = new Map(connection.meeting.participants);\n    return {\n      connection: connection,\n      connectionParticipants: connectionParticipants\n    };\n  }, [meeting]),\n      connection = _useMemo.connection,\n      connectionParticipants = _useMemo.connectionParticipants;\n\n  var _useState = useState(new Map(connectionParticipants)),\n      _connectionParticipants = _useState[0],\n      setConnectionParticipants = _useState[1];\n\n  var _handleParticipantJoined = function _handleParticipantJoined(participant) {\n    setConnectionParticipants(function (s) {\n      s.set(participant.id, participant);\n      var participantsToSet = new Map(s);\n      return participantsToSet;\n    });\n    onParticipantJoined(participant);\n  };\n\n  var _handleParticipantLeft = function _handleParticipantLeft(participantId) {\n    setConnectionParticipants(function (s) {\n      s[\"delete\"](participantId);\n      var newParticipants = new Map(s);\n      return newParticipants;\n    });\n    onParticipantLeft(participantId);\n  };\n\n  var _handleChatMessage = function _handleChatMessage(data) {\n    onChatMessage(data);\n  };\n\n  useEffect(function () {\n    connection === null || connection === void 0 ? void 0 : connection.meeting.on('participant-joined', _handleParticipantJoined);\n    connection === null || connection === void 0 ? void 0 : connection.meeting.on('participant-left', _handleParticipantLeft);\n    connection === null || connection === void 0 ? void 0 : connection.meeting.on('chat-message', _handleChatMessage);\n    return function () {\n      connection === null || connection === void 0 ? void 0 : connection.meeting.off('participant-joined', _handleParticipantJoined);\n      connection === null || connection === void 0 ? void 0 : connection.meeting.off('participant-left', _handleParticipantLeft);\n      connection === null || connection === void 0 ? void 0 : connection.meeting.off('chat-message', _handleChatMessage);\n    };\n  }, [connection]);\n  return {\n    connection: {\n      id: connection.id,\n      close: connection.close,\n      payload: connection.payload,\n      meeting: {\n        id: connection.meeting.id,\n        sendChatMessage: connection.meeting.sendChatMessage,\n        end: connection.meeting.end,\n        participants: _connectionParticipants\n      }\n    }\n  };\n};\n\nvar usePubSub = function usePubSub(topic, _temp) {\n  var _ref = _temp === void 0 ? {\n    onMessageReceived: function onMessageReceived() {}\n  } : _temp,\n      onMessageReceived = _ref.onMessageReceived;\n\n  var _useMeeting = useMeeting(),\n      meeting = _useMeeting.meeting,\n      isMeetingJoined = _useMeeting.isMeetingJoined;\n\n  var _useState = useState([]),\n      messages = _useState[0],\n      setMessages = _useState[1];\n\n  var isSubscribed = useRef(false);\n\n  var publish = function publish(message, options) {\n    if (meeting) {\n      meeting.pubSub.publish(topic, message, options);\n    }\n  };\n\n  var _handlePubSub = function _handlePubSub(data) {\n    setMessages(function (s) {\n      return [].concat(s, [data]);\n    });\n    onMessageReceived(data);\n  };\n\n  var subscribeToPubsub = function subscribeToPubsub(meeting) {\n    try {\n      var _meeting$pubSub;\n\n      return Promise.resolve(meeting === null || meeting === void 0 ? void 0 : (_meeting$pubSub = meeting.pubSub) === null || _meeting$pubSub === void 0 ? void 0 : _meeting$pubSub.subscribe(topic, _handlePubSub)).then(function (data) {\n        if (data) {\n          setMessages(data.messages);\n        }\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  useEffect(function () {\n    if (meeting && !isSubscribed.current && isMeetingJoined) {\n      isSubscribed.current = true;\n      subscribeToPubsub(meeting);\n      return function () {\n        var _meeting$pubSub2;\n\n        meeting === null || meeting === void 0 ? void 0 : (_meeting$pubSub2 = meeting.pubSub) === null || _meeting$pubSub2 === void 0 ? void 0 : _meeting$pubSub2.unsubscribe(topic, _handlePubSub);\n      };\n    }\n  }, [meeting, isMeetingJoined]);\n  return {\n    publish: publish,\n    messages: messages\n  };\n};\n\nvar Constants = VideoSDK.Constants;\nexport { Constants, MeetingConsumer, MeetingProvider, useConnection, useMeeting, useParticipant, usePubSub };","map":{"version":3,"mappings":"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","names":["eventPrifix","events","error","eventEmitter","EventEmitter","setMaxListeners","MeetingProviderContex","createContext","useMeeting","onParticipantJoined","onParticipantLeft","onSpeakerChanged","onPresenterChanged","onMainParticipantChanged","onEntryRequested","onEntryResponded","onRecordingStarted","onRecordingStopped","onChatMessage","onMeetingJoined","onMeetingLeft","onLiveStreamStarted","onLiveStreamStopped","onVideoStateChanged","onVideoSeeked","onWebcamRequested","onMicRequested","onPinStateChanged","onConnectionOpen","onConnetionClose","onSwitchMeeting","onError","useEffect","on","off","useContext","MeetingConsumer","children","React","Fragment","Consumer","MeetingProvider","config","token","joinWithoutUserInteraction","_reinitialiseMeetingOnConfigChange","reinitialiseMeetingOnConfigChange","useState","meeting","setMeeting","localParticipant","setLocalParticipant","mainParticipant","setMainParticipant","activeSpeakerId","setActiveSpeakerId","presenterId","setPresenterId","localMicOn","setLocalMicOn","localWebcamOn","setLocalWebcamOn","localScreenShareOn","setLocalScreenShareOn","isRecording","setIsRecording","messages","setMessages","Map","participants","setParticipants","pinnedParticipants","setPinnedParticipants","isLiveStreaming","setIsLiveStreaming","connections","setConnections","isMeetingJoined","setIsMeetingJoined","meetingRef","useRef","localMicOnRef","localWebcamOnRef","localScreenShareOnRef","isRecordingRef","configRef","tokenRef","joinedOnFirstRender","useMemo","current","resetStates","_handle_participant_joined","set","participant","id","participantsToSet","emit","_handle_participant_left","newParticipants","_handle_presenter_changed","_meetingRef$current","_meetingRef$current$l","_handle_main_participant_changed","_handle_speaker_changed","_handle_chat_message","s","data","_handle_entry_requested","_handle_entry_responded","participantId","decision","_handle_recording_started","_handle_recording_stopped","_handle_localParticipant_stream_enabled","stream","track","readyState","kind","_handle_localParticipant_stream_disabled","_handle_live_stream_started","_handle_live_stream_stopped","_handle_video_state_changed","_handle_video_seeked","_handle_webcam_requested","_handle_mic_requested","_handle_meeting_joined","_handle_meeting_left","_handle_pin_state_changed","_handle_connection_open","_handle_connection_close","_handle_switch_meeting","_handle_error","_meeting$localPartici","state","pinnedBy","cam","share","pinnedParticipantsToSet","connection","connectionsToSet","connectionId","newConnections","d","join","VideoSDK","initMeeting","leave","end","startRecording","webhookUrl","awsDirPath","stopRecording","unmuteMic","muteMic","toggleMic","disableWebcam","enableWebcam","toggleWebcam","disableScreenShare","enableScreenShare","toggleScreenShare","sendChatMessage","text","respondEntry","getMics","getWebcams","changeWebcam","deviceId","changeMic","startVideo","link","stopVideo","resumeVideo","pauseVideo","currentTime","seekVideo","startLivestream","streamInfo","stopLivestream","connectTo","meetingId","payload","initSDK","Provider","value","useParticipant","onStreamEnabled","onStreamDisabled","webcamStream","setwebcamStream","micStream","setMicStream","screenShareStream","setScreenShareStream","pinState","get","setTrack","unSetTrack","_handleStreamEnabled","_handleStreamDisabled","setQuality","quality","enableMic","disableMic","pin","unpin","switchTo","streams","forEach","displayName","webcamOn","micOn","screenShareOn","isLocal","isActiveSpeaker","isMainParticipant","useConnection","onMeeting","Error","connectionParticipants","_connectionParticipants","setConnectionParticipants","_handleParticipantJoined","_handleParticipantLeft","_handleChatMessage","close","usePubSub","topic","onMessageReceived","isSubscribed","publish","message","options","pubSub","_handlePubSub","subscribeToPubsub","_meeting$pubSub","subscribe","unsubscribe","Constants"],"sources":["/Users/jreynaud/Dropbox/00_JRVJ/PROJECTS/07_MOMUS/03__FINAL/06_WEB/live-tasting-3/application/videosdk-react-app-v1/node_modules/@videosdk.live/react-sdk/src/utils.js","/Users/jreynaud/Dropbox/00_JRVJ/PROJECTS/07_MOMUS/03__FINAL/06_WEB/live-tasting-3/application/videosdk-react-app-v1/node_modules/@videosdk.live/react-sdk/src/meeting/meetingProviderContextDef.js","/Users/jreynaud/Dropbox/00_JRVJ/PROJECTS/07_MOMUS/03__FINAL/06_WEB/live-tasting-3/application/videosdk-react-app-v1/node_modules/@videosdk.live/react-sdk/src/meeting/MeetingProvider.js","/Users/jreynaud/Dropbox/00_JRVJ/PROJECTS/07_MOMUS/03__FINAL/06_WEB/live-tasting-3/application/videosdk-react-app-v1/node_modules/@videosdk.live/react-sdk/src/participant/useParticipant.js","/Users/jreynaud/Dropbox/00_JRVJ/PROJECTS/07_MOMUS/03__FINAL/06_WEB/live-tasting-3/application/videosdk-react-app-v1/node_modules/@videosdk.live/react-sdk/src/connection/useConnection.js","/Users/jreynaud/Dropbox/00_JRVJ/PROJECTS/07_MOMUS/03__FINAL/06_WEB/live-tasting-3/application/videosdk-react-app-v1/node_modules/@videosdk.live/react-sdk/src/pubSub/usePubSub.js","/Users/jreynaud/Dropbox/00_JRVJ/PROJECTS/07_MOMUS/03__FINAL/06_WEB/live-tasting-3/application/videosdk-react-app-v1/node_modules/@videosdk.live/react-sdk/src/index.js"],"sourcesContent":["import EventEmitter from 'events';\n\nconst eventPrifix = 'videosdk-live-react-sdk';\n\nconst events = {\n  'participant-joined': `${eventPrifix}-participant-joined`,\n  'participant-left': `${eventPrifix}-participant-left`,\n  'speaker-changed': `${eventPrifix}-speaker-changed`,\n  'presenter-changed': `${eventPrifix}-presenter-changed`,\n  'main-participant-changed': `${eventPrifix}-main-participant-changed`,\n  'entry-requested': `${eventPrifix}-entry-requested`,\n  'entry-responded': `${eventPrifix}-entry-responded`,\n  'recording-started': `${eventPrifix}-recording-started`,\n  'recording-stopped': `${eventPrifix}-recording-stopped`,\n  'chat-message': `${eventPrifix}-chat-message`,\n  'meeting-joined': `${eventPrifix}-meeting-joined`,\n  'meeting-left': `${eventPrifix}-meeting-left`,\n  'live-stream-started': `${eventPrifix}-live-stream-started`,\n  'live-stream-stopped': `${eventPrifix}-live-stream-stopped`,\n  'video-state-changed': `${eventPrifix}-video-state-changed`,\n  'video-seeked': `${eventPrifix}-video-seeked`,\n  'webcam-requested': `${eventPrifix}-webcam-requested`,\n  'mic-requested': `${eventPrifix}-mic-requested`,\n  'pin-state-changed': `${eventPrifix}-pin-state-changed`,\n  'connection-open': `${eventPrifix}-connection-open`,\n  'connection-close': `${eventPrifix}-connection-close`,\n  'switch-meeting': `${eventPrifix}-switch-meeting`,\n  error: `${eventPrifix}-error`\n};\n\nconst eventEmitter = new EventEmitter();\neventEmitter.setMaxListeners(9999);\n\nexport { eventEmitter, events };\n","import React from 'react';\nimport { useContext, createContext, useEffect } from 'react';\nimport { eventEmitter, events } from '../utils';\nexport const MeetingProviderContex = createContext();\n\nexport const useMeeting = ({\n  onParticipantJoined = () => {},\n  onParticipantLeft = () => {},\n  onSpeakerChanged = () => {},\n  onPresenterChanged = () => {},\n  onMainParticipantChanged = () => {},\n  onEntryRequested = () => {},\n  onEntryResponded = () => {},\n  onRecordingStarted = () => {},\n  onRecordingStopped = () => {},\n  onChatMessage = () => {},\n  onMeetingJoined = () => {},\n  onMeetingLeft = () => {},\n  onLiveStreamStarted = () => {},\n  onLiveStreamStopped = () => {},\n  onVideoStateChanged = () => {},\n  onVideoSeeked = () => {},\n  onWebcamRequested = () => {},\n  onMicRequested = () => {},\n  onPinStateChanged = () => {},\n  onConnectionOpen = () => {},\n  onConnetionClose = () => {},\n  onSwitchMeeting = () => {},\n  onError = () => {}\n} = {}) => {\n  useEffect(() => {\n    eventEmitter.on(events['participant-joined'], onParticipantJoined);\n    eventEmitter.on(events['participant-left'], onParticipantLeft);\n    eventEmitter.on(events['speaker-changed'], onSpeakerChanged);\n    eventEmitter.on(events['presenter-changed'], onPresenterChanged);\n    eventEmitter.on(\n      events['main-participant-changed'],\n      onMainParticipantChanged\n    );\n    eventEmitter.on(events['entry-requested'], onEntryRequested);\n    eventEmitter.on(events['entry-responded'], onEntryResponded);\n    eventEmitter.on(events['recording-started'], onRecordingStarted);\n    eventEmitter.on(events['recording-stopped'], onRecordingStopped);\n    eventEmitter.on(events['chat-message'], onChatMessage);\n    eventEmitter.on(events['meeting-joined'], onMeetingJoined);\n    eventEmitter.on(events['meeting-left'], onMeetingLeft);\n    eventEmitter.on(events['live-stream-started'], onLiveStreamStarted);\n    eventEmitter.on(events['live-stream-stopped'], onLiveStreamStopped);\n    eventEmitter.on(events['video-state-changed'], onVideoStateChanged);\n    eventEmitter.on(events['video-seeked'], onVideoSeeked);\n    eventEmitter.on(events['webcam-requested'], onWebcamRequested);\n    eventEmitter.on(events['mic-requested'], onMicRequested);\n    eventEmitter.on(events['pin-state-changed'], onPinStateChanged);\n    eventEmitter.on(events['connection-open'], onConnectionOpen);\n    eventEmitter.on(events['connection-close'], onConnetionClose);\n    eventEmitter.on(events['switch-meeting'], onSwitchMeeting);\n    eventEmitter.on(events['error'], onError);\n\n    return () => {\n      eventEmitter.off(events['participant-joined'], onParticipantJoined);\n      eventEmitter.off(events['participant-left'], onParticipantLeft);\n      eventEmitter.off(events['speaker-changed'], onSpeakerChanged);\n      eventEmitter.off(events['presenter-changed'], onPresenterChanged);\n      eventEmitter.off(\n        events['main-participant-changed'],\n        onMainParticipantChanged\n      );\n      eventEmitter.off(events['entry-requested'], onEntryRequested);\n      eventEmitter.off(events['entry-responded'], onEntryResponded);\n      eventEmitter.off(events['recording-started'], onRecordingStarted);\n      eventEmitter.off(events['recording-stopped'], onRecordingStopped);\n      eventEmitter.off(events['chat-message'], onChatMessage);\n      eventEmitter.off(events['meeting-joined'], onMeetingJoined);\n      eventEmitter.off(events['meeting-left'], onMeetingLeft);\n      eventEmitter.off(events['live-stream-started'], onLiveStreamStarted);\n      eventEmitter.off(events['live-stream-stopped'], onLiveStreamStopped);\n      eventEmitter.off(events['video-state-changed'], onVideoStateChanged);\n      eventEmitter.off(events['video-seeked'], onVideoSeeked);\n      eventEmitter.off(events['webcam-requested'], onWebcamRequested);\n      eventEmitter.off(events['mic-requested'], onMicRequested);\n      eventEmitter.off(events['pin-state-changed'], onPinStateChanged);\n      eventEmitter.off(events['connection-open'], onConnectionOpen);\n      eventEmitter.off(events['connection-close'], onConnetionClose);\n      eventEmitter.off(events['switch-meeting'], onSwitchMeeting);\n      eventEmitter.off(events['error'], onError);\n    };\n  }, []);\n  return useContext(MeetingProviderContex);\n};\n\nexport const MeetingConsumer = ({\n  children,\n  onParticipantJoined = () => {},\n  onParticipantLeft = () => {},\n  onSpeakerChanged = () => {},\n  onPresenterChanged = () => {},\n  onMainParticipantChanged = () => {},\n  onEntryRequested = () => {},\n  onEntryResponded = () => {},\n  onRecordingStarted = () => {},\n  onRecordingStopped = () => {},\n  onChatMessage = () => {},\n  onMeetingJoined = () => {},\n  onMeetingLeft = () => {},\n  onLiveStreamStarted = () => {},\n  onLiveStreamStopped = () => {},\n  onVideoStateChanged = () => {},\n  onVideoSeeked = () => {},\n  onWebcamRequested = () => {},\n  onMicRequested = () => {},\n  onPinStateChanged = () => {},\n  onConnectionOpen = () => {},\n  onConnetionClose = () => {},\n  onSwitchMeeting = () => {},\n  onError = () => {}\n}) => {\n  useEffect(() => {\n    eventEmitter.on(events['participant-joined'], onParticipantJoined);\n    eventEmitter.on(events['participant-left'], onParticipantLeft);\n    eventEmitter.on(events['speaker-changed'], onSpeakerChanged);\n    eventEmitter.on(events['presenter-changed'], onPresenterChanged);\n    eventEmitter.on(\n      events['main-participant-changed'],\n      onMainParticipantChanged\n    );\n    eventEmitter.on(events['entry-requested'], onEntryRequested);\n    eventEmitter.on(events['entry-responded'], onEntryResponded);\n    eventEmitter.on(events['recording-started'], onRecordingStarted);\n    eventEmitter.on(events['recording-stopped'], onRecordingStopped);\n    eventEmitter.on(events['chat-message'], onChatMessage);\n    eventEmitter.on(events['meeting-joined'], onMeetingJoined);\n    eventEmitter.on(events['meeting-left'], onMeetingLeft);\n    eventEmitter.on(events['live-stream-enabled'], onLiveStreamStarted);\n    eventEmitter.on(events['live-stream-disabled'], onLiveStreamStopped);\n    eventEmitter.on(events['video-state-changed'], onVideoStateChanged);\n    eventEmitter.on(events['video-seeked'], onVideoSeeked);\n    eventEmitter.on(events['webcam-requested'], onWebcamRequested);\n    eventEmitter.on(events['mic-requested'], onMicRequested);\n    eventEmitter.on(events['pin-state-changed'], onPinStateChanged);\n    eventEmitter.on(events['connection-open'], onConnectionOpen);\n    eventEmitter.on(events['connection-close'], onConnetionClose);\n    eventEmitter.on(events['switch-meeting'], onSwitchMeeting);\n    eventEmitter.on(events['error'], onError);\n\n    return () => {\n      eventEmitter.off(events['participant-joined'], onParticipantJoined);\n      eventEmitter.off(events['participant-left'], onParticipantLeft);\n      eventEmitter.off(events['speaker-changed'], onSpeakerChanged);\n      eventEmitter.off(events['presenter-changed'], onPresenterChanged);\n      eventEmitter.off(\n        events['main-participant-changed'],\n        onMainParticipantChanged\n      );\n      eventEmitter.off(events['entry-requested'], onEntryRequested);\n      eventEmitter.off(events['entry-responded'], onEntryResponded);\n      eventEmitter.off(events['recording-started'], onRecordingStarted);\n      eventEmitter.off(events['recording-stopped'], onRecordingStopped);\n      eventEmitter.off(events['chat-message'], onChatMessage);\n      eventEmitter.off(events['meeting-joined'], onMeetingJoined);\n      eventEmitter.off(events['meeting-left'], onMeetingLeft);\n      eventEmitter.off(events['live-stream-enabled'], onLiveStreamStarted);\n      eventEmitter.off(events['live-stream-disabled'], onLiveStreamStopped);\n      eventEmitter.off(events['video-state-changed'], onVideoStateChanged);\n      eventEmitter.off(events['video-seeked'], onVideoSeeked);\n      eventEmitter.off(events['webcam-requested'], onWebcamRequested);\n      eventEmitter.off(events['mic-requested'], onMicRequested);\n      eventEmitter.off(events['pin-state-changed'], onPinStateChanged);\n      eventEmitter.off(events['connection-open'], onConnectionOpen);\n      eventEmitter.off(events['connection-close'], onConnetionClose);\n      eventEmitter.off(events['switch-meeting'], onSwitchMeeting);\n      eventEmitter.off(events['error'], onError);\n    };\n  }, []);\n\n  return (\n    <React.Fragment>\n      <MeetingProviderContex.Consumer>\n        {children}\n      </MeetingProviderContex.Consumer>\n    </React.Fragment>\n  );\n};\n","import { MeetingProviderContex } from './meetingProviderContextDef';\nimport React, { useEffect, useRef, useState, useMemo } from 'react';\nimport { eventEmitter, events } from '../utils';\nimport { VideoSDK } from '@videosdk.live/js-sdk';\n\nconst MeetingProvider = ({\n  children,\n  config,\n  token,\n  joinWithoutUserInteraction,\n  reinitialiseMeetingOnConfigChange: _reinitialiseMeetingOnConfigChange\n}) => {\n  const [meeting, setMeeting] = useState(null);\n  const [localParticipant, setLocalParticipant] = useState(null);\n  const [mainParticipant, setMainParticipant] = useState(null);\n  const [activeSpeakerId, setActiveSpeakerId] = useState(null);\n  const [presenterId, setPresenterId] = useState(null);\n  const [localMicOn, setLocalMicOn] = useState(false);\n  const [localWebcamOn, setLocalWebcamOn] = useState(false);\n  const [localScreenShareOn, setLocalScreenShareOn] = useState(false);\n  const [isRecording, setIsRecording] = useState(false);\n  const [messages, setMessages] = useState([]);\n  const [participants, setParticipants] = useState(new Map());\n  const [pinnedParticipants, setPinnedParticipants] = useState(new Map());\n  const [isLiveStreaming, setIsLiveStreaming] = useState(false);\n  const [connections, setConnections] = useState(new Map());\n  const [isMeetingJoined, setIsMeetingJoined] = useState(false);\n\n  const meetingRef = useRef();\n  const localMicOnRef = useRef();\n  const localWebcamOnRef = useRef();\n  const localScreenShareOnRef = useRef();\n  const isRecordingRef = useRef();\n  const configRef = useRef(config);\n  const tokenRef = useRef(token);\n  const joinedOnFirstRender = useRef(false);\n\n  const reinitialiseMeetingOnConfigChange = useMemo(\n    () => _reinitialiseMeetingOnConfigChange,\n    []\n  );\n\n  useEffect(() => {\n    meetingRef.current = meeting;\n  }, [meeting]);\n  useEffect(() => {\n    localMicOnRef.current = localMicOn;\n  }, [localMicOn]);\n  useEffect(() => {\n    localWebcamOnRef.current = localWebcamOn;\n  }, [localWebcamOn]);\n  useEffect(() => {\n    localScreenShareOnRef.current = localScreenShareOn;\n  }, [localScreenShareOn]);\n  useEffect(() => {\n    isRecordingRef.current = isRecording;\n  }, [isRecording]);\n  useEffect(() => {\n    configRef.current = config;\n  }, [config]);\n  useEffect(() => {\n    tokenRef.current = token;\n  }, [token]);\n\n  const resetStates = () => {\n    setMeeting(null);\n    setLocalParticipant(null);\n    setMainParticipant(null);\n    setActiveSpeakerId(null);\n    setPresenterId(null);\n    setLocalMicOn(false);\n    setLocalWebcamOn(false);\n    setLocalScreenShareOn(false);\n    setIsRecording(false);\n    setMessages([]);\n    setIsLiveStreaming(false);\n    setParticipants(new Map());\n    setPinnedParticipants(new Map());\n    setConnections(new Map());\n    setIsMeetingJoined(false);\n  };\n\n  const _handle_participant_joined = participant => {\n    setParticipants(participants => {\n      participants.set(participant.id, participant);\n      const participantsToSet = new Map(participants);\n\n      return participantsToSet;\n    });\n    eventEmitter.emit(events['participant-joined'], participant);\n  };\n  const _handle_participant_left = participant => {\n    setParticipants(participants => {\n      participants.delete(participant.id);\n\n      const newParticipants = new Map(participants);\n      return newParticipants;\n    });\n    eventEmitter.emit(events['participant-left'], participant);\n  };\n  const _handle_presenter_changed = presenterId => {\n    setPresenterId(presenterId);\n    setLocalScreenShareOn(\n      presenterId === meetingRef?.current?.localParticipant?.id\n    );\n    eventEmitter.emit(events['presenter-changed'], presenterId);\n  };\n  const _handle_main_participant_changed = participant => {\n    setMainParticipant(participant);\n    eventEmitter.emit(events['main-participant-changed'], participant);\n  };\n  const _handle_speaker_changed = activeSpeakerId => {\n    setActiveSpeakerId(activeSpeakerId);\n    eventEmitter.emit(events['speaker-changed'], activeSpeakerId);\n  };\n  const _handle_chat_message = data => {\n    setMessages(s => [...s, data]);\n\n    eventEmitter.emit(events['chat-message'], data);\n  };\n  const _handle_entry_requested = data => {\n    eventEmitter.emit(events['entry-requested'], data);\n  };\n  const _handle_entry_responded = (participantId, decision) => {\n    eventEmitter.emit(events['entry-responded'], participantId, decision);\n  };\n  const _handle_recording_started = () => {\n    setIsRecording(true);\n    eventEmitter.emit(events['recording-started']);\n  };\n  const _handle_recording_stopped = () => {\n    setIsRecording(false);\n    eventEmitter.emit(events['recording-stopped']);\n  };\n\n  const _handle_localParticipant_stream_enabled = stream => {\n    if (stream.track.readyState === 'live') {\n      if (stream.kind === 'video') {\n        setLocalWebcamOn(true);\n      } else if (stream.kind === 'audio') {\n        setLocalMicOn(true);\n      }\n    }\n  };\n  const _handle_localParticipant_stream_disabled = stream => {\n    if (stream.track.readyState === 'ended') {\n      if (stream.kind === 'video') {\n        setLocalWebcamOn(false);\n      } else if (stream.kind === 'audio') {\n        setLocalMicOn(false);\n      }\n    }\n  };\n  const _handle_live_stream_started = data => {\n    setIsLiveStreaming(true);\n    eventEmitter.emit(events['live-stream-started'], data);\n  };\n  const _handle_live_stream_stopped = () => {\n    setIsLiveStreaming(false);\n    eventEmitter.emit(events['live-stream-stopped']);\n  };\n  const _handle_video_state_changed = data => {\n    eventEmitter.emit(events['video-state-changed'], data);\n  };\n  const _handle_video_seeked = data => {\n    eventEmitter.emit(events['video-seeked'], data);\n  };\n\n  const _handle_webcam_requested = data => {\n    eventEmitter.emit(events['webcam-requested'], data);\n  };\n\n  const _handle_mic_requested = data => {\n    eventEmitter.emit(events['mic-requested'], data);\n  };\n\n  const _handle_meeting_joined = data => {\n    joinedOnFirstRender.current = true;\n    setMessages(s => [...s, ...data.messages]);\n    eventEmitter.emit(events['meeting-joined'], data);\n    setIsMeetingJoined(true);\n  };\n\n  const _handle_meeting_left = () => {\n    eventEmitter.emit(events['meeting-left']);\n\n    const meeting = meetingRef.current;\n\n    if (meeting) {\n      if (typeof meeting?.off === 'function') {\n        meeting.off('participant-joined', _handle_participant_joined);\n        meeting.off('participant-left', _handle_participant_left);\n        meeting.off('presenter-changed', _handle_presenter_changed);\n        meeting.off(\n          'main-participant-changed',\n          _handle_main_participant_changed\n        );\n        meeting.off('speaker-changed', _handle_speaker_changed);\n        meeting.off('entry-requested', _handle_entry_requested);\n        meeting.off('entry-responded', _handle_entry_responded);\n        meeting.off('chat-message', _handle_chat_message);\n        meeting.off('recording-started', _handle_recording_started);\n        meeting.off('recording-stopped', _handle_recording_stopped);\n        meeting.off('meeting-joined', _handle_meeting_joined);\n        meeting.off('meeting-left', _handle_meeting_left);\n        meeting.off('livestream-started', _handle_live_stream_started);\n        meeting.off('livestream-stopped', _handle_live_stream_stopped);\n        meeting.off('video-state-changed', _handle_video_state_changed);\n        meeting.off('video-seeked', _handle_video_seeked);\n        meeting.off('webcam-requested', _handle_webcam_requested);\n        meeting.off('mic-requested', _handle_mic_requested);\n        meeting.off('pin-state-changed', _handle_pin_state_changed);\n        meeting.off('connection-open', _handle_connection_open);\n        meeting.off('connection-close', _handle_connection_close);\n        meeting.off('switch-meeting', _handle_switch_meeting);\n        meeting.off('error', _handle_error);\n      }\n\n      if (typeof meeting?.localParticipant?.off === 'function') {\n        meeting.localParticipant.off(\n          'stream-enabled',\n          _handle_localParticipant_stream_enabled\n        );\n\n        meeting.localParticipant.off(\n          'stream-disabled',\n          _handle_localParticipant_stream_disabled\n        );\n      }\n\n      resetStates();\n    }\n  };\n\n  const _handle_pin_state_changed = ({ participantId, state, pinnedBy }) => {\n    setPinnedParticipants(pinnedParticipants => {\n      if (!state.cam && !state.share) {\n        pinnedParticipants.delete(participantId);\n      } else {\n        pinnedParticipants.set(participantId, state);\n      }\n\n      const pinnedParticipantsToSet = new Map(pinnedParticipants);\n\n      return pinnedParticipantsToSet;\n    });\n\n    eventEmitter.emit(events['pin-state-changed'], {\n      participantId,\n      state,\n      pinnedBy\n    });\n  };\n\n  const _handle_connection_open = connection => {\n    setConnections(s => {\n      s.set(connection.id, connection);\n      const connectionsToSet = new Map(s);\n      return connectionsToSet;\n    });\n    eventEmitter.emit(events['connection-open'], connection);\n  };\n\n  const _handle_connection_close = connectionId => {\n    setConnections(s => {\n      s.delete(connectionId);\n      const newConnections = new Map(s);\n      return newConnections;\n    });\n    eventEmitter.emit(events['connection-close'], connectionId);\n  };\n\n  const _handle_error = data => {\n    eventEmitter.emit(events['error'], data);\n  };\n\n  const _handle_switch_meeting = d => {\n    eventEmitter.emit(events['switch-meeting'], d);\n  };\n\n  const join = () => {\n    const meeting = VideoSDK && VideoSDK.initMeeting(configRef.current);\n    setMeeting(meeting);\n    const { localParticipant, participants } = meeting;\n    participants.set(localParticipant.id, localParticipant);\n    setParticipants(participants);\n    setLocalParticipant(localParticipant);\n    meeting.on('participant-joined', _handle_participant_joined);\n    meeting.on('participant-left', _handle_participant_left);\n    meeting.on('presenter-changed', _handle_presenter_changed);\n    meeting.on('main-participant-changed', _handle_main_participant_changed);\n    meeting.on('speaker-changed', _handle_speaker_changed);\n    meeting.on('entry-requested', _handle_entry_requested);\n    meeting.on('entry-responded', _handle_entry_responded);\n    meeting.on('chat-message', _handle_chat_message);\n    meeting.on('recording-started', _handle_recording_started);\n    meeting.on('recording-stopped', _handle_recording_stopped);\n    meeting.on('meeting-joined', _handle_meeting_joined);\n    meeting.on('meeting-left', _handle_meeting_left);\n    meeting.on('livestream-started', _handle_live_stream_started);\n    meeting.on('livestream-stopped', _handle_live_stream_stopped);\n    meeting.on('video-state-changed', _handle_video_state_changed);\n    meeting.on('video-seeked', _handle_video_seeked);\n    meeting.on('webcam-requested', _handle_webcam_requested);\n    meeting.on('mic-requested', _handle_mic_requested);\n    meeting.on('pin-state-changed', _handle_pin_state_changed);\n\n    meeting.on('connection-open', _handle_connection_open);\n    meeting.on('connection-close', _handle_connection_close);\n    meeting.on('switch-meeting', _handle_switch_meeting);\n    meeting.on('error', _handle_error);\n\n    meeting.localParticipant.on(\n      'stream-enabled',\n      _handle_localParticipant_stream_enabled\n    );\n    meeting.localParticipant.on(\n      'stream-disabled',\n      _handle_localParticipant_stream_disabled\n    );\n    meeting.join();\n  };\n\n  const leave = () => {\n    const meeting = meetingRef.current;\n\n    if (meeting) {\n      meeting.leave();\n    }\n  };\n\n  const end = () => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.end();\n    }\n  };\n  const startRecording = (webhookUrl, awsDirPath, config) => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.startRecording(webhookUrl, awsDirPath, config);\n    }\n  };\n  const stopRecording = () => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      const isRecording = isRecordingRef.current;\n      if (isRecording) {\n        meeting.stopRecording();\n      }\n    }\n  };\n  const unmuteMic = () => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.unmuteMic();\n    }\n  };\n  const muteMic = () => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.muteMic();\n    }\n  };\n  const toggleMic = () => {\n    const localMicOn = localMicOnRef.current;\n\n    if (localMicOn) {\n      muteMic();\n    } else {\n      unmuteMic();\n    }\n  };\n  const disableWebcam = () => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.disableWebcam();\n    }\n  };\n  const enableWebcam = () => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.enableWebcam();\n    }\n  };\n  const toggleWebcam = () => {\n    const localWebcamOn = localWebcamOnRef.current;\n\n    if (localWebcamOn) {\n      disableWebcam();\n    } else {\n      enableWebcam();\n    }\n  };\n  const disableScreenShare = () => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.disableScreenShare();\n    }\n  };\n  const enableScreenShare = () => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.enableScreenShare();\n    }\n  };\n  const toggleScreenShare = () => {\n    const localScreenShareOn = localScreenShareOnRef.current;\n\n    if (localScreenShareOn) {\n      disableScreenShare();\n    } else {\n      enableScreenShare();\n    }\n  };\n  const sendChatMessage = text => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.sendChatMessage(text);\n    }\n  };\n  const respondEntry = (participantId, decision) => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.respondEntry(participantId, decision);\n    }\n  };\n  const getMics = async () => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      return await meeting.getMics();\n    }\n  };\n  const getWebcams = async () => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      return await meeting.getWebcams();\n    }\n  };\n  const changeWebcam = deviceId => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.changeWebcam(deviceId);\n    }\n  };\n  const changeMic = deviceId => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.changeMic(deviceId);\n    }\n  };\n  const startVideo = ({ link }) => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.startVideo({ link });\n    }\n  };\n\n  const stopVideo = () => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.stopVideo();\n    }\n  };\n\n  const resumeVideo = () => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.resumeVideo();\n    }\n  };\n\n  const pauseVideo = ({ currentTime }) => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.pauseVideo({ currentTime });\n    }\n  };\n\n  const seekVideo = ({ currentTime }) => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.seekVideo({ currentTime });\n    }\n  };\n\n  const startLivestream = streamInfo => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.startLivestream(streamInfo);\n    }\n  };\n\n  const stopLivestream = () => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.stopLivestream();\n    }\n  };\n\n  const connectTo = async ({ meetingId, payload }) => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      await meeting.connectTo({ meetingId, payload });\n    }\n  };\n\n  const initSDK = () => {\n    VideoSDK.config(tokenRef.current);\n\n    if (joinWithoutUserInteraction) {\n      join();\n    }\n  };\n\n  useEffect(() => {\n    initSDK();\n  }, []);\n\n  useEffect(() => {\n    if (reinitialiseMeetingOnConfigChange && joinedOnFirstRender.current) {\n      leave();\n      initSDK();\n      !joinWithoutUserInteraction && join();\n    }\n  }, [config.meetingId, token, reinitialiseMeetingOnConfigChange]);\n\n  return (\n    <MeetingProviderContex.Provider\n      value={{\n        meetingId: meeting?.id,\n        meeting,\n        localParticipant,\n        mainParticipant,\n        activeSpeakerId,\n        participants,\n        presenterId,\n        localMicOn,\n        localWebcamOn,\n        localScreenShareOn,\n        messages,\n        isRecording,\n        isLiveStreaming,\n        pinnedParticipants,\n        connections,\n        //\n        join,\n        leave,\n        end,\n        //\n        startRecording,\n        stopRecording,\n        //\n        sendChatMessage,\n        respondEntry,\n        //\n        muteMic,\n        unmuteMic,\n        toggleMic,\n        //\n        disableWebcam,\n        enableWebcam,\n        toggleWebcam,\n        //\n        disableScreenShare,\n        enableScreenShare,\n        toggleScreenShare,\n        //\n        getMics,\n        getWebcams,\n        changeWebcam,\n        changeMic,\n\n        startVideo,\n        stopVideo,\n        resumeVideo,\n        pauseVideo,\n        seekVideo,\n        startLivestream,\n        stopLivestream,\n        connectTo,\n        isMeetingJoined\n      }}\n    >\n      {children}\n    </MeetingProviderContex.Provider>\n  );\n};\n\nexport default MeetingProvider;\n","import { useEffect, useState, useMemo } from 'react';\nimport { useMeeting } from '../meeting/meetingProviderContextDef';\n\nconst useParticipant = (\n  participantId,\n  { onStreamEnabled = () => {}, onStreamDisabled = () => {} } = {}\n) => {\n  const [webcamStream, setwebcamStream] = useState(null);\n  const [micStream, setMicStream] = useState(null);\n  const [screenShareStream, setScreenShareStream] = useState(null);\n\n  const meeting = useMeeting();\n\n  const {\n    participants,\n    localParticipant,\n    activeSpeakerId,\n    mainParticipant,\n    pinState\n  } = useMemo(() => {\n    const participants = meeting?.participants;\n    const localParticipant = meeting?.localParticipant;\n    const activeSpeakerId = meeting?.activeSpeakerId;\n    const mainParticipant = meeting?.mainParticipant;\n    const pinState = meeting?.pinnedParticipants?.get(participantId) || {\n      cam: false,\n      share: false\n    };\n\n    return {\n      participants,\n      localParticipant,\n      activeSpeakerId,\n      mainParticipant,\n      pinState\n    };\n  }, [meeting]);\n\n  const participant = participants?.get(participantId);\n\n  const setTrack = stream => {\n    if (stream.track.readyState === 'live') {\n      switch (stream.kind) {\n        case 'video':\n          setwebcamStream(stream);\n          break;\n        case 'audio':\n          setMicStream(stream);\n          break;\n        case 'share':\n          setScreenShareStream(stream);\n          break;\n        default:\n          break;\n      }\n    }\n  };\n\n  const unSetTrack = stream => {\n    if (stream.track.readyState !== 'live') {\n      switch (stream.kind) {\n        case 'video':\n          setwebcamStream(null);\n          break;\n        case 'audio':\n          setMicStream(null);\n          break;\n        case 'share':\n          setScreenShareStream(null);\n          break;\n        default:\n          break;\n      }\n    }\n  };\n\n  const _handleStreamEnabled = stream => {\n    setTrack(stream);\n    onStreamEnabled(stream);\n  };\n\n  const _handleStreamDisabled = stream => {\n    unSetTrack(stream);\n    onStreamDisabled(stream);\n  };\n\n  const setQuality = quality => {\n    participant?.setQuality(quality);\n  };\n  const enableMic = () => {\n    participant?.enableMic();\n  };\n  const disableMic = () => {\n    participant?.disableMic();\n  };\n  const enableWebcam = () => {\n    participant?.enableWebcam();\n  };\n  const disableWebcam = () => {\n    participant?.disableWebcam();\n  };\n  const pin = data => {\n    participant?.pin(data);\n  };\n  const unpin = data => {\n    participant?.unpin(data);\n  };\n\n  const switchTo = async data => {\n    await participant?.switchTo(data);\n  };\n\n  useEffect(() => {\n    const streams = participant?.streams;\n\n    if (streams) {\n      streams.forEach(stream => {\n        setTrack(stream);\n      });\n    }\n\n    participant?.on('stream-enabled', _handleStreamEnabled);\n\n    participant?.on('stream-disabled', _handleStreamDisabled);\n\n    return () => {\n      participant?.off('stream-enabled', _handleStreamEnabled);\n\n      participant?.off('stream-disabled', _handleStreamDisabled);\n    };\n  }, [participant]);\n\n  return {\n    displayName: participant?.displayName,\n    participant,\n    webcamStream,\n    micStream,\n    screenShareStream,\n    webcamOn: !!webcamStream,\n    micOn: !!micStream,\n    screenShareOn: !!screenShareStream,\n    isLocal: localParticipant?.id === participantId,\n    isActiveSpeaker: activeSpeakerId === participantId,\n    isMainParticipant: mainParticipant?.id === participantId,\n    pinState,\n\n    //\n    setQuality,\n    enableMic,\n    disableMic,\n    enableWebcam,\n    disableWebcam,\n    pin,\n    unpin,\n    switchTo\n  };\n};\n\nexport default useParticipant;\n","import { useEffect, useState, useMemo } from 'react';\nimport { useMeeting } from '../meeting/meetingProviderContextDef';\n\nconst useConnection = (\n  connectionId,\n  { onMeeting } = {\n    onMeeting: {\n      onParticipantJoined: () => {},\n      onParticipantLeft: () => {},\n      onChatMessage: () => {}\n    }\n  }\n) => {\n  const onParticipantJoined = onMeeting?.onParticipantJoined;\n  const onParticipantLeft = onMeeting?.onParticipantLeft;\n  const onChatMessage = onMeeting?.onChatMessage;\n\n  const meeting = useMeeting();\n\n  const { connection, connectionParticipants } = useMemo(() => {\n    const connection = meeting?.connections.get(connectionId);\n\n    if (!connection) {\n      throw new Error('connectionId not found');\n    }\n\n    const connectionParticipants = new Map(connection.meeting.participants);\n\n    return {\n      connection,\n      connectionParticipants\n    };\n  }, [meeting]);\n\n  const [_connectionParticipants, setConnectionParticipants] = useState(\n    new Map(connectionParticipants)\n  );\n\n  const _handleParticipantJoined = participant => {\n    setConnectionParticipants(s => {\n      s.set(participant.id, participant);\n      const participantsToSet = new Map(s);\n      return participantsToSet;\n    });\n    onParticipantJoined(participant);\n  };\n  const _handleParticipantLeft = participantId => {\n    setConnectionParticipants(s => {\n      s.delete(participantId);\n      const newParticipants = new Map(s);\n      return newParticipants;\n    });\n    onParticipantLeft(participantId);\n  };\n\n  const _handleChatMessage = data => {\n    onChatMessage(data);\n  };\n\n  useEffect(() => {\n    connection?.meeting.on('participant-joined', _handleParticipantJoined);\n    connection?.meeting.on('participant-left', _handleParticipantLeft);\n    connection?.meeting.on('chat-message', _handleChatMessage);\n\n    return () => {\n      connection?.meeting.off('participant-joined', _handleParticipantJoined);\n      connection?.meeting.off('participant-left', _handleParticipantLeft);\n      connection?.meeting.off('chat-message', _handleChatMessage);\n    };\n  }, [connection]);\n\n  return {\n    connection: {\n      id: connection.id,\n      close: connection.close,\n      payload: connection.payload,\n      meeting: {\n        id: connection.meeting.id,\n        sendChatMessage: connection.meeting.sendChatMessage,\n        end: connection.meeting.end,\n        participants: _connectionParticipants\n      }\n    }\n  };\n};\n\nexport default useConnection;\n","import { useEffect, useRef, useState } from 'react';\nimport { useMeeting } from '../meeting/meetingProviderContextDef';\n\nconst usePubSub = (\n  topic,\n  { onMessageReceived } = { onMessageReceived: () => {} }\n) => {\n  const { meeting, isMeetingJoined } = useMeeting();\n  const [messages, setMessages] = useState([]);\n  const isSubscribed = useRef(false);\n  const publish = (message, options) => {\n    if (meeting) {\n      meeting.pubSub.publish(topic, message, options);\n    }\n  };\n\n  const _handlePubSub = data => {\n    setMessages(s => [...s, data]);\n    onMessageReceived(data);\n  };\n\n  const subscribeToPubsub = async meeting => {\n    const data = await meeting?.pubSub?.subscribe(topic, _handlePubSub);\n    if (data) {\n      setMessages(data.messages);\n    }\n  };\n\n  useEffect(() => {\n    if (meeting && !isSubscribed.current && isMeetingJoined) {\n      isSubscribed.current = true;\n      subscribeToPubsub(meeting);\n\n      return () => {\n        meeting?.pubSub?.unsubscribe(topic, _handlePubSub);\n      };\n    }\n  }, [meeting, isMeetingJoined]);\n\n  return { publish, messages };\n};\n\nexport default usePubSub;\n","import MeetingProvider from './meeting/MeetingProvider';\nimport {\n  MeetingConsumer,\n  useMeeting\n} from './meeting/meetingProviderContextDef';\nimport useParticipant from './participant/useParticipant';\nimport useConnection from './connection/useConnection';\nimport usePubSub from './pubSub/usePubSub';\nimport { VideoSDK } from '@videosdk.live/js-sdk';\n\nconst Constants = VideoSDK.Constants;\n\nexport {\n  MeetingProvider,\n  useMeeting,\n  useParticipant,\n  usePubSub,\n  MeetingConsumer,\n  useConnection,\n  Constants\n};\n"]},"metadata":{},"sourceType":"module"}